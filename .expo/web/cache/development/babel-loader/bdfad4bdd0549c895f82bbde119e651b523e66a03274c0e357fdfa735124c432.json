{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport _map from \"lodash/map\";\nimport React, { useContext } from 'react';\nimport { useSharedValue, useAnimatedReaction, withTiming, Easing, runOnJS, useAnimatedStyle, withSpring } from 'react-native-reanimated';\nimport { GestureDetector, Gesture } from 'react-native-gesture-handler';\nimport View from \"../view\";\nimport { Shadows, Colors } from \"../../style\";\nimport { useDidUpdate } from \"../../hooks\";\nimport SortableListContext from \"./SortableListContext\";\nimport usePresenter from \"./usePresenter\";\nimport { HapticService, HapticType } from \"../../services\";\nimport { StyleUtils } from \"../../utils\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport var DEFAULT_LIST_ITEM_SIZE = 52;\nvar animationConfig = {\n  easing: Easing.inOut(Easing.ease),\n  duration: 350\n};\nvar LIST_ITEM_BACKGROUND = Colors.$backgroundDefault;\nvar _worklet_13677899553396_init_data = {\n  code: \"function anonymous(){const{getItemIndexById,itemsOrder,id}=this.__closure;return getItemIndexById(itemsOrder.value,id);}\",\n  location: \"/Users/mac/Repositories/BlockmakerIT/02-building-manager-mvp-app/node_modules/react-native-ui-lib/src/components/sortableList/SortableListItem.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"anonymous\\\",\\\"getItemIndexById\\\",\\\"itemsOrder\\\",\\\"id\\\",\\\"__closure\\\",\\\"value\\\"],\\\"sources\\\":[\\\"/Users/mac/Repositories/BlockmakerIT/02-building-manager-mvp-app/node_modules/react-native-ui-lib/src/components/sortableList/SortableListItem.js\\\"],\\\"mappings\\\":\\\"AAkEsB,SAAAA,UAAA,QAAAC,gBAAA,CAAAC,UAAA,CAAAC,EAAA,OAAAC,SAAA,OAAM,CAAAH,gBAAiB,CAAAC,UAAW,CAAAG,KAAK,CAAEF,EAAE\\\"}\",\n  version: \"3.6.1\"\n};\nvar _worklet_9911832355692_init_data = {\n  code: \"function anonymous(newIndex,prevIndex){const{currIndex,isDragging,getTranslationByIndexChange,initialIndex,itemSize,translation,withTiming,animationConfig}=this.__closure;if(prevIndex===null||newIndex===prevIndex){return;}currIndex.value=newIndex;if(!isDragging.value){const _translation=getTranslationByIndexChange(currIndex.value,initialIndex.value,itemSize.value);translation.value=withTiming(_translation,animationConfig);}}\",\n  location: \"/Users/mac/Repositories/BlockmakerIT/02-building-manager-mvp-app/node_modules/react-native-ui-lib/src/components/sortableList/SortableListItem.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"anonymous\\\",\\\"newIndex\\\",\\\"prevIndex\\\",\\\"currIndex\\\",\\\"isDragging\\\",\\\"getTranslationByIndexChange\\\",\\\"initialIndex\\\",\\\"itemSize\\\",\\\"translation\\\",\\\"withTiming\\\",\\\"animationConfig\\\",\\\"__closure\\\",\\\"value\\\",\\\"_translation\\\"],\\\"sources\\\":[\\\"/Users/mac/Repositories/BlockmakerIT/02-building-manager-mvp-app/node_modules/react-native-ui-lib/src/components/sortableList/SortableListItem.js\\\"],\\\"mappings\\\":\\\"AAkEoE,QAAC,CAAAA,UAAQC,QAAE,CAAAC,SAAc,QAAAC,SAAA,CAAAC,UAAA,CAAAC,2BAAA,CAAAC,YAAA,CAAAC,QAAA,CAAAC,WAAA,CAAAC,UAAA,CAAAC,eAAA,OAAAC,SAAA,CACzF,GAAIT,SAAS,GAAK,IAAI,EAAID,QAAQ,GAAKC,SAAS,CAAE,CAChD,OACF,CACAC,SAAS,CAACS,KAAK,CAAGX,QAAQ,CAC1B,GAAI,CAACG,UAAU,CAACQ,KAAK,CAAE,CACrB,KAAM,CAAAC,YAAY,CAAGR,2BAA2B,CAACF,SAAS,CAACS,KAAK,CAAEN,YAAY,CAACM,KAAK,CAAEL,QAAQ,CAACK,KAAK,CAAC,CACrGJ,WAAW,CAACI,KAAK,CAAGH,UAAU,CAACI,YAAY,CAAEH,eAAe,CAAC,CAC/D,CACF\\\"}\",\n  version: \"3.6.1\"\n};\nvar _worklet_1118334947892_init_data = {\n  code: \"function anonymous(){const{isDragging,translation,getTranslationByIndexChange,currIndex,initialIndex,itemSize,tempTranslation,tempItemsOrder,itemsOrder}=this.__closure;isDragging.value=true;translation.value=getTranslationByIndexChange(currIndex.value,initialIndex.value,itemSize.value);tempTranslation.value=translation.value;tempItemsOrder.value=itemsOrder.value;}\",\n  location: \"/Users/mac/Repositories/BlockmakerIT/02-building-manager-mvp-app/node_modules/react-native-ui-lib/src/components/sortableList/SortableListItem.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"anonymous\\\",\\\"isDragging\\\",\\\"translation\\\",\\\"getTranslationByIndexChange\\\",\\\"currIndex\\\",\\\"initialIndex\\\",\\\"itemSize\\\",\\\"tempTranslation\\\",\\\"tempItemsOrder\\\",\\\"itemsOrder\\\",\\\"__closure\\\",\\\"value\\\"],\\\"sources\\\":[\\\"/Users/mac/Repositories/BlockmakerIT/02-building-manager-mvp-app/node_modules/react-native-ui-lib/src/components/sortableList/SortableListItem.js\\\"],\\\"mappings\\\":\\\"AA4EoG,SAAAA,SAAMA,CAAA,QAAAC,UAAA,CAAAC,WAAA,CAAAC,2BAAA,CAAAC,SAAA,CAAAC,YAAA,CAAAC,QAAA,CAAAC,eAAA,CAAAC,cAAA,CAAAC,UAAA,OAAAC,SAAA,CACtGT,UAAU,CAACU,KAAK,CAAG,IAAI,CACvBT,WAAW,CAACS,KAAK,CAAGR,2BAA2B,CAACC,SAAS,CAACO,KAAK,CAAEN,YAAY,CAACM,KAAK,CAAEL,QAAQ,CAACK,KAAK,CAAC,CACpGJ,eAAe,CAACI,KAAK,CAAGT,WAAW,CAACS,KAAK,CACzCH,cAAc,CAACG,KAAK,CAAGF,UAAU,CAACE,KAAK,CACzC\\\"}\",\n  version: \"3.6.1\"\n};\nvar _worklet_14081208806107_init_data = {\n  code: \"function anonymous(){const{enableHaptic,isDragging,runOnJS,HapticService,HapticType}=this.__closure;if(enableHaptic&&!isDragging.value){runOnJS(HapticService.triggerHaptic)(HapticType.selection,'SortableList');}}\",\n  location: \"/Users/mac/Repositories/BlockmakerIT/02-building-manager-mvp-app/node_modules/react-native-ui-lib/src/components/sortableList/SortableListItem.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"anonymous\\\",\\\"enableHaptic\\\",\\\"isDragging\\\",\\\"runOnJS\\\",\\\"HapticService\\\",\\\"HapticType\\\",\\\"__closure\\\",\\\"value\\\",\\\"triggerHaptic\\\",\\\"selection\\\"],\\\"sources\\\":[\\\"/Users/mac/Repositories/BlockmakerIT/02-building-manager-mvp-app/node_modules/react-native-ui-lib/src/components/sortableList/SortableListItem.js\\\"],\\\"mappings\\\":\\\"AAiFmB,SAAAA,SAAMA,CAAA,QAAAC,YAAA,CAAAC,UAAA,CAAAC,OAAA,CAAAC,aAAA,CAAAC,UAAA,OAAAC,SAAA,CACrB,GAAIL,YAAY,EAAI,CAACC,UAAU,CAACK,KAAK,CAAE,CACrCJ,OAAO,CAACC,aAAa,CAACI,aAAa,CAAC,CAACH,UAAU,CAACI,SAAS,CAAE,cAAc,CAAC,CAC5E,CACF\\\"}\",\n  version: \"3.6.1\"\n};\nvar _worklet_8138153301034_init_data = {\n  code: \"function anonymous(event){const{horizontal,translation,tempTranslation,getIndexByPosition,itemSize,initialIndex,getItemIndexById,itemsOrder,id,getIdByItemIndex,lockedIds}=this.__closure;const{translationX:translationX,translationY:translationY}=event;const _translation=horizontal?translationX:translationY;translation.value=tempTranslation.value+_translation;let newIndex=getIndexByPosition(translation.value,itemSize.value)+initialIndex.value;const oldIndex=getItemIndexById(itemsOrder.value,id);if(newIndex!==oldIndex){if(Math.abs(newIndex-oldIndex)>1){newIndex=Math.sign(newIndex-oldIndex)+oldIndex;}let itemIdToSwap=getIdByItemIndex(itemsOrder.value,newIndex);while(lockedIds.value[itemIdToSwap]){const skipDirection=Math.sign(newIndex-oldIndex);newIndex=skipDirection+newIndex;itemIdToSwap=getIdByItemIndex(itemsOrder.value,newIndex);}if(itemIdToSwap!==undefined){const newItemsOrder=[...itemsOrder.value];newItemsOrder[newIndex]=id;newItemsOrder[oldIndex]=itemIdToSwap;itemsOrder.value=newItemsOrder;}}}\",\n  location: \"/Users/mac/Repositories/BlockmakerIT/02-building-manager-mvp-app/node_modules/react-native-ui-lib/src/components/sortableList/SortableListItem.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"anonymous\\\",\\\"event\\\",\\\"horizontal\\\",\\\"translation\\\",\\\"tempTranslation\\\",\\\"getIndexByPosition\\\",\\\"itemSize\\\",\\\"initialIndex\\\",\\\"getItemIndexById\\\",\\\"itemsOrder\\\",\\\"id\\\",\\\"getIdByItemIndex\\\",\\\"lockedIds\\\",\\\"__closure\\\",\\\"translationX\\\",\\\"translationY\\\",\\\"_translation\\\",\\\"value\\\",\\\"newIndex\\\",\\\"oldIndex\\\",\\\"Math\\\",\\\"abs\\\",\\\"sign\\\",\\\"itemIdToSwap\\\",\\\"skipDirection\\\",\\\"undefined\\\",\\\"newItemsOrder\\\"],\\\"sources\\\":[\\\"/Users/mac/Repositories/BlockmakerIT/02-building-manager-mvp-app/node_modules/react-native-ui-lib/src/components/sortableList/SortableListItem.js\\\"],\\\"mappings\\\":\\\"AAqFc,SAAAA,SAASA,CAAAC,KAAA,QAAAC,UAAA,CAAAC,WAAA,CAAAC,eAAA,CAAAC,kBAAA,CAAAC,QAAA,CAAAC,YAAA,CAAAC,gBAAA,CAAAC,UAAA,CAAAC,EAAA,CAAAC,gBAAA,CAAAC,SAAA,OAAAC,SAAA,CACnB,KAAM,CACJC,YAAY,CAAZA,YAAY,CACZC,YAAA,CAAAA,YACF,CAAC,CAAGd,KAAK,CACT,KAAM,CAAAe,YAAY,CAAGd,UAAU,CAAGY,YAAY,CAAGC,YAAY,CAC7DZ,WAAW,CAACc,KAAK,CAAGb,eAAe,CAACa,KAAK,CAAGD,YAAY,CAGxD,GAAI,CAAAE,QAAQ,CAAGb,kBAAkB,CAACF,WAAW,CAACc,KAAK,CAAEX,QAAQ,CAACW,KAAK,CAAC,CAAGV,YAAY,CAACU,KAAK,CACzF,KAAM,CAAAE,QAAQ,CAAGX,gBAAgB,CAACC,UAAU,CAACQ,KAAK,CAAEP,EAAE,CAAC,CACvD,GAAIQ,QAAQ,GAAKC,QAAQ,CAAE,CAEzB,GAAIC,IAAI,CAACC,GAAG,CAACH,QAAQ,CAAGC,QAAQ,CAAC,CAAG,CAAC,CAAE,CACrCD,QAAQ,CAAGE,IAAI,CAACE,IAAI,CAACJ,QAAQ,CAAGC,QAAQ,CAAC,CAAGA,QAAQ,CACtD,CACA,GAAI,CAAAI,YAAY,CAAGZ,gBAAgB,CAACF,UAAU,CAACQ,KAAK,CAAEC,QAAQ,CAAC,CAG/D,MAAON,SAAS,CAACK,KAAK,CAACM,YAAY,CAAC,CAAE,CACpC,KAAM,CAAAC,aAAa,CAAGJ,IAAI,CAACE,IAAI,CAACJ,QAAQ,CAAGC,QAAQ,CAAC,CACpDD,QAAQ,CAAGM,aAAa,CAAGN,QAAQ,CACnCK,YAAY,CAAGZ,gBAAgB,CAACF,UAAU,CAACQ,KAAK,CAAEC,QAAQ,CAAC,CAC7D,CAGA,GAAIK,YAAY,GAAKE,SAAS,CAAE,CAC9B,KAAM,CAAAC,aAAa,CAAG,CAAC,GAAGjB,UAAU,CAACQ,KAAK,CAAC,CAC3CS,aAAa,CAACR,QAAQ,CAAC,CAAGR,EAAE,CAC5BgB,aAAa,CAACP,QAAQ,CAAC,CAAGI,YAAY,CACtCd,UAAU,CAACQ,KAAK,CAAGS,aAAa,CAClC,CACF,CACF\\\"}\",\n  version: \"3.6.1\"\n};\nvar _worklet_9298312087991_init_data = {\n  code: \"function anonymous(){const{getTranslationByIndexChange,getItemIndexById,itemsOrder,id,tempItemsOrder,itemSize,translation,withTiming,tempTranslation,animationConfig,runOnJS,onChange}=this.__closure;const _translation=getTranslationByIndexChange(getItemIndexById(itemsOrder.value,id),getItemIndexById(tempItemsOrder.value,id),itemSize.value);translation.value=withTiming(tempTranslation.value+_translation,animationConfig,function(){if(tempItemsOrder.value.toString()!==itemsOrder.value.toString()){runOnJS(onChange)();}});}\",\n  location: \"/Users/mac/Repositories/BlockmakerIT/02-building-manager-mvp-app/node_modules/react-native-ui-lib/src/components/sortableList/SortableListItem.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"anonymous\\\",\\\"getTranslationByIndexChange\\\",\\\"getItemIndexById\\\",\\\"itemsOrder\\\",\\\"id\\\",\\\"tempItemsOrder\\\",\\\"itemSize\\\",\\\"translation\\\",\\\"withTiming\\\",\\\"tempTranslation\\\",\\\"animationConfig\\\",\\\"runOnJS\\\",\\\"onChange\\\",\\\"__closure\\\",\\\"_translation\\\",\\\"value\\\",\\\"toString\\\"],\\\"sources\\\":[\\\"/Users/mac/Repositories/BlockmakerIT/02-building-manager-mvp-app/node_modules/react-native-ui-lib/src/components/sortableList/SortableListItem.js\\\"],\\\"mappings\\\":\\\"AAsHW,SAAAA,SAAMA,CAAA,QAAAC,2BAAA,CAAAC,gBAAA,CAAAC,UAAA,CAAAC,EAAA,CAAAC,cAAA,CAAAC,QAAA,CAAAC,WAAA,CAAAC,UAAA,CAAAC,eAAA,CAAAC,eAAA,CAAAC,OAAA,CAAAC,QAAA,OAAAC,SAAA,CACb,KAAM,CAAAC,YAAY,CAAGb,2BAA2B,CAACC,gBAAgB,CAACC,UAAU,CAACY,KAAK,CAAEX,EAAE,CAAC,CAAEF,gBAAgB,CAACG,cAAc,CAACU,KAAK,CAAEX,EAAE,CAAC,CAAEE,QAAQ,CAACS,KAAK,CAAC,CACpJR,WAAW,CAACQ,KAAK,CAAGP,UAAU,CAACC,eAAe,CAACM,KAAK,CAAGD,YAAY,CAAEJ,eAAe,CAAE,UAAM,CAC1F,GAAIL,cAAc,CAACU,KAAK,CAACC,QAAQ,CAAC,CAAC,GAAKb,UAAU,CAACY,KAAK,CAACC,QAAQ,CAAC,CAAC,CAAE,CACnEL,OAAO,CAACC,QAAQ,CAAC,CAAC,CAAC,CACrB,CACF,CAAC,CAAC,CACJ\\\"}\",\n  version: \"3.6.1\"\n};\nvar _worklet_2555965974675_init_data = {\n  code: \"function anonymous(){const{tempItemsOrder,itemsOrder,runOnJS,onChange}=this.__closure;if(tempItemsOrder.value.toString()!==itemsOrder.value.toString()){runOnJS(onChange)();}}\",\n  location: \"/Users/mac/Repositories/BlockmakerIT/02-building-manager-mvp-app/node_modules/react-native-ui-lib/src/components/sortableList/SortableListItem.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"anonymous\\\",\\\"tempItemsOrder\\\",\\\"itemsOrder\\\",\\\"runOnJS\\\",\\\"onChange\\\",\\\"__closure\\\",\\\"value\\\",\\\"toString\\\"],\\\"sources\\\":[\\\"/Users/mac/Repositories/BlockmakerIT/02-building-manager-mvp-app/node_modules/react-native-ui-lib/src/components/sortableList/SortableListItem.js\\\"],\\\"mappings\\\":\\\"AAwH0F,SAAAA,SAAMA,CAAA,QAAAC,cAAA,CAAAC,UAAA,CAAAC,OAAA,CAAAC,QAAA,OAAAC,SAAA,CAC1F,GAAIJ,cAAc,CAACK,KAAK,CAACC,QAAQ,CAAC,CAAC,GAAKL,UAAU,CAACI,KAAK,CAACC,QAAQ,CAAC,CAAC,CAAE,CACnEJ,OAAO,CAACC,QAAQ,CAAC,CAAC,CAAC,CACrB,CACF\\\"}\",\n  version: \"3.6.1\"\n};\nvar _worklet_13993052564499_init_data = {\n  code: \"function anonymous(){const{isDragging}=this.__closure;if(isDragging.value){isDragging.value=false;}}\",\n  location: \"/Users/mac/Repositories/BlockmakerIT/02-building-manager-mvp-app/node_modules/react-native-ui-lib/src/components/sortableList/SortableListItem.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"anonymous\\\",\\\"isDragging\\\",\\\"__closure\\\",\\\"value\\\"],\\\"sources\\\":[\\\"/Users/mac/Repositories/BlockmakerIT/02-building-manager-mvp-app/node_modules/react-native-ui-lib/src/components/sortableList/SortableListItem.js\\\"],\\\"mappings\\\":\\\"AA6HgB,SAAAA,SAAMA,CAAA,QAAAC,UAAA,OAAAC,SAAA,CAClB,GAAID,UAAU,CAACE,KAAK,CAAE,CACpBF,UAAU,CAACE,KAAK,CAAG,KAAK,CAC1B,CACF\\\"}\",\n  version: \"3.6.1\"\n};\nvar _worklet_12218507730905_init_data = {\n  code: \"function anonymous(){const{withSpring,isDragging,propsScale,withTiming,animationConfig,draggedItemShadow,defaultItemShadow,LIST_ITEM_BACKGROUND,horizontal,translation,itemProps}=this.__closure;var _itemProps;const scale=withSpring(isDragging.value?propsScale:1);const zIndex=isDragging.value?100:withTiming(0,animationConfig);const opacity=isDragging.value?0.95:1;const shadow=isDragging.value?draggedItemShadow.value:defaultItemShadow.value;return{backgroundColor:LIST_ITEM_BACKGROUND,zIndex:zIndex,transform:[horizontal?{translateX:translation.value}:{translateY:translation.value},{scale:scale}],opacity:opacity,...((_itemProps=itemProps)===null||_itemProps===void 0?void 0:_itemProps.margins),...shadow};}\",\n  location: \"/Users/mac/Repositories/BlockmakerIT/02-building-manager-mvp-app/node_modules/react-native-ui-lib/src/components/sortableList/SortableListItem.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"anonymous\\\",\\\"withSpring\\\",\\\"isDragging\\\",\\\"propsScale\\\",\\\"withTiming\\\",\\\"animationConfig\\\",\\\"draggedItemShadow\\\",\\\"defaultItemShadow\\\",\\\"LIST_ITEM_BACKGROUND\\\",\\\"horizontal\\\",\\\"translation\\\",\\\"itemProps\\\",\\\"__closure\\\",\\\"_itemProps\\\",\\\"scale\\\",\\\"value\\\",\\\"zIndex\\\",\\\"opacity\\\",\\\"shadow\\\",\\\"backgroundColor\\\",\\\"transform\\\",\\\"translateX\\\",\\\"translateY\\\",\\\"margins\\\"],\\\"sources\\\":[\\\"/Users/mac/Repositories/BlockmakerIT/02-building-manager-mvp-app/node_modules/react-native-ui-lib/src/components/sortableList/SortableListItem.js\\\"],\\\"mappings\\\":\\\"AAkIgD,SAAAA,SAAMA,CAAA,QAAAC,UAAA,CAAAC,UAAA,CAAAC,UAAA,CAAAC,UAAA,CAAAC,eAAA,CAAAC,iBAAA,CAAAC,iBAAA,CAAAC,oBAAA,CAAAC,UAAA,CAAAC,WAAA,CAAAC,SAAA,OAAAC,SAAA,KAAAC,UAAA,CAClD,KAAM,CAAAC,KAAK,CAAGb,UAAU,CAACC,UAAU,CAACa,KAAK,CAAGZ,UAAU,CAAG,CAAC,CAAC,CAC3D,KAAM,CAAAa,MAAM,CAAGd,UAAU,CAACa,KAAK,CAAG,GAAG,CAAGX,UAAU,CAAC,CAAC,CAAEC,eAAe,CAAC,CACtE,KAAM,CAAAY,OAAO,CAAGf,UAAU,CAACa,KAAK,CAAG,IAAI,CAAG,CAAC,CAC3C,KAAM,CAAAG,MAAM,CAAGhB,UAAU,CAACa,KAAK,CAAGT,iBAAiB,CAACS,KAAK,CAAGR,iBAAiB,CAACQ,KAAK,CACnF,MAAO,CACLI,eAAe,CAAEX,oBAAoB,CAErCQ,MAAM,CAANA,MAAM,CACNI,SAAS,CAAE,CAACX,UAAU,CAAG,CACvBY,UAAU,CAAEX,WAAW,CAACK,KAC1B,CAAC,CAAG,CACFO,UAAU,CAAEZ,WAAW,CAACK,KAC1B,CAAC,CAAE,CACDD,KAAA,CAAAA,KACF,CAAC,CAAC,CACFG,OAAO,CAAPA,OAAO,CACP,KAAAJ,UAAA,CAAGF,SAAS,UAAAE,UAAA,iBAATA,UAAA,CAAWU,OAAO,EACrB,GAAGL,MACL,CAAC,CACH\\\"}\",\n  version: \"3.6.1\"\n};\nvar SortableListItem = function SortableListItem(props) {\n  var children = props.children,\n    index = props.index;\n  var _useContext = useContext(SortableListContext),\n    data = _useContext.data,\n    itemSize = _useContext.itemSize,\n    horizontal = _useContext.horizontal,\n    itemProps = _useContext.itemProps,\n    onItemLayout = _useContext.onItemLayout,\n    itemsOrder = _useContext.itemsOrder,\n    lockedIds = _useContext.lockedIds,\n    onChange = _useContext.onChange,\n    enableHaptic = _useContext.enableHaptic,\n    _useContext$scale = _useContext.scale,\n    propsScale = _useContext$scale === void 0 ? 1 : _useContext$scale;\n  var _usePresenter = usePresenter(),\n    getTranslationByIndexChange = _usePresenter.getTranslationByIndexChange,\n    getItemIndexById = _usePresenter.getItemIndexById,\n    getIndexByPosition = _usePresenter.getIndexByPosition,\n    getIdByItemIndex = _usePresenter.getIdByItemIndex;\n  var id = data[index].id;\n  var locked = data[index].locked;\n  var initialIndex = useSharedValue(_map(data, 'id').indexOf(id));\n  var currIndex = useSharedValue(initialIndex.value);\n  var translation = useSharedValue(0);\n  var isDragging = useSharedValue(false);\n  var draggedItemShadow = useSharedValue(StyleUtils.unpackStyle(_objectSpread(_objectSpread({}, Shadows.sh30.bottom), Shadows.sh30.top)));\n  var defaultItemShadow = useSharedValue(StyleUtils.unpackStyle({\n    shadowColor: Colors.transparent,\n    elevation: 0\n  }));\n  var tempTranslation = useSharedValue(0);\n  var tempItemsOrder = useSharedValue(itemsOrder.value);\n  useDidUpdate(function () {\n    var newItemIndex = _map(data, 'id').indexOf(id);\n    initialIndex.value = newItemIndex;\n    currIndex.value = newItemIndex;\n    translation.value = 0;\n  }, [data]);\n  useAnimatedReaction(function () {\n    var _e = [new global.Error(), -4, -27];\n    var anonymous = function anonymous() {\n      return getItemIndexById(itemsOrder.value, id);\n    };\n    anonymous.__closure = {\n      getItemIndexById: getItemIndexById,\n      itemsOrder: itemsOrder,\n      id: id\n    };\n    anonymous.__workletHash = 13677899553396;\n    anonymous.__initData = _worklet_13677899553396_init_data;\n    anonymous.__stackDetails = _e;\n    return anonymous;\n  }(), function () {\n    var _e = [new global.Error(), -9, -27];\n    var anonymous = function anonymous(newIndex, prevIndex) {\n      if (prevIndex === null || newIndex === prevIndex) {\n        return;\n      }\n      currIndex.value = newIndex;\n      if (!isDragging.value) {\n        var _translation = getTranslationByIndexChange(currIndex.value, initialIndex.value, itemSize.value);\n        translation.value = withTiming(_translation, animationConfig);\n      }\n    };\n    anonymous.__closure = {\n      currIndex: currIndex,\n      isDragging: isDragging,\n      getTranslationByIndexChange: getTranslationByIndexChange,\n      initialIndex: initialIndex,\n      itemSize: itemSize,\n      translation: translation,\n      withTiming: withTiming,\n      animationConfig: animationConfig\n    };\n    anonymous.__workletHash = 9911832355692;\n    anonymous.__initData = _worklet_9911832355692_init_data;\n    anonymous.__stackDetails = _e;\n    return anonymous;\n  }(), []);\n  var dragOnLongPressGesture = Gesture.Pan().activateAfterLongPress(250).enabled(!locked).onStart(function () {\n    var _e = [new global.Error(), -10, -27];\n    var anonymous = function anonymous() {\n      isDragging.value = true;\n      translation.value = getTranslationByIndexChange(currIndex.value, initialIndex.value, itemSize.value);\n      tempTranslation.value = translation.value;\n      tempItemsOrder.value = itemsOrder.value;\n    };\n    anonymous.__closure = {\n      isDragging: isDragging,\n      translation: translation,\n      getTranslationByIndexChange: getTranslationByIndexChange,\n      currIndex: currIndex,\n      initialIndex: initialIndex,\n      itemSize: itemSize,\n      tempTranslation: tempTranslation,\n      tempItemsOrder: tempItemsOrder,\n      itemsOrder: itemsOrder\n    };\n    anonymous.__workletHash = 1118334947892;\n    anonymous.__initData = _worklet_1118334947892_init_data;\n    anonymous.__stackDetails = _e;\n    return anonymous;\n  }()).onTouchesMove(function () {\n    var _e = [new global.Error(), -6, -27];\n    var anonymous = function anonymous() {\n      if (enableHaptic && !isDragging.value) {\n        runOnJS(HapticService.triggerHaptic)(HapticType.selection, 'SortableList');\n      }\n    };\n    anonymous.__closure = {\n      enableHaptic: enableHaptic,\n      isDragging: isDragging,\n      runOnJS: runOnJS,\n      HapticService: HapticService,\n      HapticType: HapticType\n    };\n    anonymous.__workletHash = 14081208806107;\n    anonymous.__initData = _worklet_14081208806107_init_data;\n    anonymous.__stackDetails = _e;\n    return anonymous;\n  }()).onUpdate(function () {\n    var _e = [new global.Error(), -12, -27];\n    var anonymous = function anonymous(event) {\n      var translationX = event.translationX,\n        translationY = event.translationY;\n      var _translation = horizontal ? translationX : translationY;\n      translation.value = tempTranslation.value + _translation;\n      var newIndex = getIndexByPosition(translation.value, itemSize.value) + initialIndex.value;\n      var oldIndex = getItemIndexById(itemsOrder.value, id);\n      if (newIndex !== oldIndex) {\n        if (Math.abs(newIndex - oldIndex) > 1) {\n          newIndex = Math.sign(newIndex - oldIndex) + oldIndex;\n        }\n        var itemIdToSwap = getIdByItemIndex(itemsOrder.value, newIndex);\n        while (lockedIds.value[itemIdToSwap]) {\n          var skipDirection = Math.sign(newIndex - oldIndex);\n          newIndex = skipDirection + newIndex;\n          itemIdToSwap = getIdByItemIndex(itemsOrder.value, newIndex);\n        }\n        if (itemIdToSwap !== undefined) {\n          var newItemsOrder = _toConsumableArray(itemsOrder.value);\n          newItemsOrder[newIndex] = id;\n          newItemsOrder[oldIndex] = itemIdToSwap;\n          itemsOrder.value = newItemsOrder;\n        }\n      }\n    };\n    anonymous.__closure = {\n      horizontal: horizontal,\n      translation: translation,\n      tempTranslation: tempTranslation,\n      getIndexByPosition: getIndexByPosition,\n      itemSize: itemSize,\n      initialIndex: initialIndex,\n      getItemIndexById: getItemIndexById,\n      itemsOrder: itemsOrder,\n      id: id,\n      getIdByItemIndex: getIdByItemIndex,\n      lockedIds: lockedIds\n    };\n    anonymous.__workletHash = 8138153301034;\n    anonymous.__initData = _worklet_8138153301034_init_data;\n    anonymous.__stackDetails = _e;\n    return anonymous;\n  }()).onEnd(function () {\n    var _e = [new global.Error(), -13, -27];\n    var anonymous = function anonymous() {\n      var _translation = getTranslationByIndexChange(getItemIndexById(itemsOrder.value, id), getItemIndexById(tempItemsOrder.value, id), itemSize.value);\n      translation.value = withTiming(tempTranslation.value + _translation, animationConfig, function () {\n        var _e = [new global.Error(), -5, -27];\n        var anonymous = function anonymous() {\n          if (tempItemsOrder.value.toString() !== itemsOrder.value.toString()) {\n            runOnJS(onChange)();\n          }\n        };\n        anonymous.__closure = {\n          tempItemsOrder: tempItemsOrder,\n          itemsOrder: itemsOrder,\n          runOnJS: runOnJS,\n          onChange: onChange\n        };\n        anonymous.__workletHash = 2555965974675;\n        anonymous.__initData = _worklet_2555965974675_init_data;\n        anonymous.__stackDetails = _e;\n        return anonymous;\n      }());\n    };\n    anonymous.__closure = {\n      getTranslationByIndexChange: getTranslationByIndexChange,\n      getItemIndexById: getItemIndexById,\n      itemsOrder: itemsOrder,\n      id: id,\n      tempItemsOrder: tempItemsOrder,\n      itemSize: itemSize,\n      translation: translation,\n      withTiming: withTiming,\n      tempTranslation: tempTranslation,\n      animationConfig: animationConfig,\n      runOnJS: runOnJS,\n      onChange: onChange\n    };\n    anonymous.__workletHash = 9298312087991;\n    anonymous.__initData = _worklet_9298312087991_init_data;\n    anonymous.__stackDetails = _e;\n    return anonymous;\n  }()).onFinalize(function () {\n    var _e = [new global.Error(), -2, -27];\n    var anonymous = function anonymous() {\n      if (isDragging.value) {\n        isDragging.value = false;\n      }\n    };\n    anonymous.__closure = {\n      isDragging: isDragging\n    };\n    anonymous.__workletHash = 13993052564499;\n    anonymous.__initData = _worklet_13993052564499_init_data;\n    anonymous.__stackDetails = _e;\n    return anonymous;\n  }());\n  var draggedAnimatedStyle = useAnimatedStyle(function () {\n    var _e = [new global.Error(), -12, -27];\n    var anonymous = function anonymous() {\n      var scale = withSpring(isDragging.value ? propsScale : 1);\n      var zIndex = isDragging.value ? 100 : withTiming(0, animationConfig);\n      var opacity = isDragging.value ? 0.95 : 1;\n      var shadow = isDragging.value ? draggedItemShadow.value : defaultItemShadow.value;\n      return _objectSpread(_objectSpread({\n        backgroundColor: LIST_ITEM_BACKGROUND,\n        zIndex: zIndex,\n        transform: [horizontal ? {\n          translateX: translation.value\n        } : {\n          translateY: translation.value\n        }, {\n          scale: scale\n        }],\n        opacity: opacity\n      }, itemProps == null ? void 0 : itemProps.margins), shadow);\n    };\n    anonymous.__closure = {\n      withSpring: withSpring,\n      isDragging: isDragging,\n      propsScale: propsScale,\n      withTiming: withTiming,\n      animationConfig: animationConfig,\n      draggedItemShadow: draggedItemShadow,\n      defaultItemShadow: defaultItemShadow,\n      LIST_ITEM_BACKGROUND: LIST_ITEM_BACKGROUND,\n      horizontal: horizontal,\n      translation: translation,\n      itemProps: itemProps\n    };\n    anonymous.__workletHash = 12218507730905;\n    anonymous.__initData = _worklet_12218507730905_init_data;\n    anonymous.__stackDetails = _e;\n    return anonymous;\n  }());\n  return _jsx(GestureDetector, {\n    gesture: dragOnLongPressGesture,\n    children: _jsx(View, {\n      reanimated: true,\n      style: draggedAnimatedStyle,\n      onLayout: index === 0 ? onItemLayout : undefined,\n      children: children\n    })\n  });\n};\nexport default React.memo(SortableListItem);","map":{"version":3,"names":["_map","React","useContext","useSharedValue","useAnimatedReaction","withTiming","Easing","runOnJS","useAnimatedStyle","withSpring","GestureDetector","Gesture","View","Shadows","Colors","useDidUpdate","SortableListContext","usePresenter","HapticService","HapticType","StyleUtils","jsx","_jsx","DEFAULT_LIST_ITEM_SIZE","animationConfig","easing","inOut","ease","duration","LIST_ITEM_BACKGROUND","$backgroundDefault","_worklet_13677899553396_init_data","code","location","sourceMap","version","_worklet_9911832355692_init_data","_worklet_1118334947892_init_data","_worklet_14081208806107_init_data","_worklet_8138153301034_init_data","_worklet_9298312087991_init_data","_worklet_2555965974675_init_data","_worklet_13993052564499_init_data","_worklet_12218507730905_init_data","SortableListItem","props","children","index","_useContext","data","itemSize","horizontal","itemProps","onItemLayout","itemsOrder","lockedIds","onChange","enableHaptic","_useContext$scale","scale","propsScale","_usePresenter","getTranslationByIndexChange","getItemIndexById","getIndexByPosition","getIdByItemIndex","id","locked","initialIndex","indexOf","currIndex","value","translation","isDragging","draggedItemShadow","unpackStyle","_objectSpread","sh30","bottom","top","defaultItemShadow","shadowColor","transparent","elevation","tempTranslation","tempItemsOrder","newItemIndex","_e","global","Error","anonymous","__closure","__workletHash","__initData","__stackDetails","newIndex","prevIndex","_translation","dragOnLongPressGesture","Pan","activateAfterLongPress","enabled","onStart","onTouchesMove","triggerHaptic","selection","onUpdate","event","translationX","translationY","oldIndex","Math","abs","sign","itemIdToSwap","skipDirection","undefined","newItemsOrder","_toConsumableArray","onEnd","toString","onFinalize","draggedAnimatedStyle","zIndex","opacity","shadow","backgroundColor","transform","translateX","translateY","margins","gesture","reanimated","style","onLayout","memo"],"sources":["/Users/mac/Repositories/BlockmakerIT/02-building-manager-mvp-app/node_modules/react-native-ui-lib/src/components/sortableList/SortableListItem.js"],"sourcesContent":["import _map from \"lodash/map\";\n/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useContext } from 'react';\nimport { useSharedValue, useAnimatedReaction, withTiming, Easing, runOnJS, useAnimatedStyle, withSpring } from 'react-native-reanimated';\nimport { GestureDetector, Gesture } from 'react-native-gesture-handler';\nimport View from \"../view\";\nimport { Shadows, Colors } from \"../../style\";\nimport { useDidUpdate } from \"../../hooks\";\nimport SortableListContext from \"./SortableListContext\";\nimport usePresenter from \"./usePresenter\";\nimport { HapticService, HapticType } from \"../../services\";\nimport { StyleUtils } from \"../../utils\";\nexport const DEFAULT_LIST_ITEM_SIZE = 52;\nconst animationConfig = {\n  easing: Easing.inOut(Easing.ease),\n  duration: 350\n};\n\n// Reanimated 3 - Solving the following error:\n// ReanimatedError: Trying to access property `$backgroundDefault` of an object which cannot be sent to the UI runtime., js engine: reanimated\nconst LIST_ITEM_BACKGROUND = Colors.$backgroundDefault;\nconst SortableListItem = props => {\n  const {\n    children,\n    index\n  } = props;\n  const {\n    data,\n    itemSize,\n    horizontal,\n    itemProps,\n    onItemLayout,\n    itemsOrder,\n    lockedIds,\n    onChange,\n    enableHaptic,\n    scale: propsScale = 1\n  } = useContext(SortableListContext);\n  const {\n    getTranslationByIndexChange,\n    getItemIndexById,\n    getIndexByPosition,\n    getIdByItemIndex\n  } = usePresenter();\n  const id = data[index].id;\n  const locked = data[index].locked;\n  const initialIndex = useSharedValue(_map(data, 'id').indexOf(id));\n  const currIndex = useSharedValue(initialIndex.value);\n  const translation = useSharedValue(0);\n  const isDragging = useSharedValue(false);\n  const draggedItemShadow = useSharedValue(StyleUtils.unpackStyle({\n    ...Shadows.sh30.bottom,\n    ...Shadows.sh30.top\n  }));\n  const defaultItemShadow = useSharedValue(StyleUtils.unpackStyle({\n    shadowColor: Colors.transparent,\n    elevation: 0\n  }));\n  const tempTranslation = useSharedValue(0);\n  const tempItemsOrder = useSharedValue(itemsOrder.value);\n  useDidUpdate(() => {\n    const newItemIndex = _map(data, 'id').indexOf(id);\n    initialIndex.value = newItemIndex;\n    currIndex.value = newItemIndex;\n    translation.value = 0;\n  }, [data]);\n  useAnimatedReaction(() => getItemIndexById(itemsOrder.value, id), (newIndex, prevIndex) => {\n    if (prevIndex === null || newIndex === prevIndex) {\n      return;\n    }\n    currIndex.value = newIndex;\n    if (!isDragging.value) {\n      const _translation = getTranslationByIndexChange(currIndex.value, initialIndex.value, itemSize.value);\n      translation.value = withTiming(_translation, animationConfig);\n    }\n  }, []);\n  const dragOnLongPressGesture = Gesture.Pan().activateAfterLongPress(250).enabled(!locked).onStart(() => {\n    isDragging.value = true;\n    translation.value = getTranslationByIndexChange(currIndex.value, initialIndex.value, itemSize.value);\n    tempTranslation.value = translation.value;\n    tempItemsOrder.value = itemsOrder.value;\n  }).onTouchesMove(() => {\n    if (enableHaptic && !isDragging.value) {\n      runOnJS(HapticService.triggerHaptic)(HapticType.selection, 'SortableList');\n    }\n  }).onUpdate(event => {\n    const {\n      translationX,\n      translationY\n    } = event;\n    const _translation = horizontal ? translationX : translationY;\n    translation.value = tempTranslation.value + _translation;\n\n    // Swapping items\n    let newIndex = getIndexByPosition(translation.value, itemSize.value) + initialIndex.value;\n    const oldIndex = getItemIndexById(itemsOrder.value, id);\n    if (newIndex !== oldIndex) {\n      // Sometimes getIndexByPosition will give an index that is off by one because of rounding error (floor\\ceil does not help)\n      if (Math.abs(newIndex - oldIndex) > 1) {\n        newIndex = Math.sign(newIndex - oldIndex) + oldIndex;\n      }\n      let itemIdToSwap = getIdByItemIndex(itemsOrder.value, newIndex);\n\n      // Skip locked item(s)\n      while (lockedIds.value[itemIdToSwap]) {\n        const skipDirection = Math.sign(newIndex - oldIndex);\n        newIndex = skipDirection + newIndex;\n        itemIdToSwap = getIdByItemIndex(itemsOrder.value, newIndex);\n      }\n\n      // Swap items\n      if (itemIdToSwap !== undefined) {\n        const newItemsOrder = [...itemsOrder.value];\n        newItemsOrder[newIndex] = id;\n        newItemsOrder[oldIndex] = itemIdToSwap;\n        itemsOrder.value = newItemsOrder;\n      }\n    }\n  }).onEnd(() => {\n    const _translation = getTranslationByIndexChange(getItemIndexById(itemsOrder.value, id), getItemIndexById(tempItemsOrder.value, id), itemSize.value);\n    translation.value = withTiming(tempTranslation.value + _translation, animationConfig, () => {\n      if (tempItemsOrder.value.toString() !== itemsOrder.value.toString()) {\n        runOnJS(onChange)();\n      }\n    });\n  }).onFinalize(() => {\n    if (isDragging.value) {\n      isDragging.value = false;\n    }\n  });\n  const draggedAnimatedStyle = useAnimatedStyle(() => {\n    const scale = withSpring(isDragging.value ? propsScale : 1);\n    const zIndex = isDragging.value ? 100 : withTiming(0, animationConfig);\n    const opacity = isDragging.value ? 0.95 : 1;\n    const shadow = isDragging.value ? draggedItemShadow.value : defaultItemShadow.value;\n    return {\n      backgroundColor: LIST_ITEM_BACKGROUND,\n      // required for elevation to work in Android\n      zIndex,\n      transform: [horizontal ? {\n        translateX: translation.value\n      } : {\n        translateY: translation.value\n      }, {\n        scale\n      }],\n      opacity,\n      ...itemProps?.margins,\n      ...shadow\n    };\n  });\n  return <GestureDetector gesture={dragOnLongPressGesture}>\n      <View reanimated style={draggedAnimatedStyle} onLayout={index === 0 ? onItemLayout : undefined}>\n        {children}\n      </View>\n    </GestureDetector>;\n};\nexport default React.memo(SortableListItem);"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}