{"ast":null,"code":"import React, { useContext, useCallback, useRef } from 'react';\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { runOnJS, useAnimatedReaction, useSharedValue } from 'react-native-reanimated';\nimport { FlashListPackage } from \"../../optionalDependencies\";\nimport { BorderRadiuses, Colors } from \"../../style\";\nimport View from \"../../components/view\";\nimport Text from \"../../components/text\";\nimport { isSameDay, isSameMonth } from \"./helpers/DateUtils\";\nimport { UpdateSource } from \"./types\";\nimport CalendarContext from \"./CalendarContext\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar FlashList = FlashListPackage == null ? void 0 : FlashListPackage.FlashList;\nvar _worklet_12690639340676_init_data = {\n  code: \"function anonymous(selected){const{data}=this.__closure;for(let index=0;index<data.length;++index){const item=data[index];if(item.type==='Header'){if(item.date>=selected){return{dateSectionHeader:item,index:index};}}}return null;}\",\n  location: \"/Users/mac/Repositories/BlockmakerIT/02-building-manager-mvp-app/node_modules/react-native-ui-lib/src/incubator/Calendar/Agenda.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"anonymous\\\",\\\"selected\\\",\\\"data\\\",\\\"__closure\\\",\\\"index\\\",\\\"length\\\",\\\"item\\\",\\\"type\\\",\\\"date\\\",\\\"dateSectionHeader\\\"],\\\"sources\\\":[\\\"/Users/mac/Repositories/BlockmakerIT/02-building-manager-mvp-app/node_modules/react-native-ui-lib/src/incubator/Calendar/Agenda.js\\\"],\\\"mappings\\\":\\\"AA8E2C,SAAAA,UAAQC,QAAI,QAAAC,IAAA,OAAAC,SAAA,CAGnD,IAAK,GAAI,CAAAC,KAAK,CAAG,CAAC,CAAEA,KAAK,CAAGF,IAAI,CAACG,MAAM,CAAE,EAAED,KAAK,CAAE,CAChD,KAAM,CAAAE,IAAI,CAAGJ,IAAI,CAACE,KAAK,CAAC,CACxB,GAAIE,IAAI,CAACC,IAAI,GAAK,QAAQ,CAAE,CAC1B,GAAID,IAAI,CAACE,IAAI,EAAIP,QAAQ,CAAE,CACzB,MAAO,CACLQ,iBAAiB,CAAEH,IAAI,CACvBF,KAAA,CAAAA,KACF,CAAC,CACH,CACF,CACF,CACA,MAAO,KAAI,CACb\\\"}\",\n  version: \"3.6.1\"\n};\nvar _worklet_14379379929081_init_data = {\n  code: \"function anonymous(){const{selectedDate}=this.__closure;return selectedDate.value;}\",\n  location: \"/Users/mac/Repositories/BlockmakerIT/02-building-manager-mvp-app/node_modules/react-native-ui-lib/src/incubator/Calendar/Agenda.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"anonymous\\\",\\\"selectedDate\\\",\\\"__closure\\\",\\\"value\\\"],\\\"sources\\\":[\\\"/Users/mac/Repositories/BlockmakerIT/02-building-manager-mvp-app/node_modules/react-native-ui-lib/src/incubator/Calendar/Agenda.js\\\"],\\\"mappings\\\":\\\"AAoGsB,SAAAA,SAAMA,CAAA,QAAAC,YAAA,OAAAC,SAAA,CACxB,MAAO,CAAAD,YAAY,CAACE,KAAK,CAC3B\\\"}\",\n  version: \"3.6.1\"\n};\nvar _worklet_6332743892896_init_data = {\n  code: \"function anonymous(selected,previous){const{updateSource,UpdateSource,closestSectionHeader,isSameDay,findClosestDateAfter,scrolledByUser,isSameMonth,runOnJS,scrollToIndex}=this.__closure;if(updateSource.value!==UpdateSource.AGENDA_SCROLL){var _closestSectionHeader,_closestSectionHeader2;if(selected!==previous&&(((_closestSectionHeader=closestSectionHeader.value)===null||_closestSectionHeader===void 0?void 0:_closestSectionHeader.date)===undefined||!isSameDay(selected,(_closestSectionHeader2=closestSectionHeader.value)===null||_closestSectionHeader2===void 0?void 0:_closestSectionHeader2.date))){const result=findClosestDateAfter(selected);if(result!==null){const{dateSectionHeader:dateSectionHeader,index:index}=result;closestSectionHeader.value=dateSectionHeader;scrolledByUser.value=false;if(previous){const _isSameMonth=isSameMonth(selected,previous);runOnJS(scrollToIndex)(index,_isSameMonth);}}}}}\",\n  location: \"/Users/mac/Repositories/BlockmakerIT/02-building-manager-mvp-app/node_modules/react-native-ui-lib/src/incubator/Calendar/Agenda.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"anonymous\\\",\\\"selected\\\",\\\"previous\\\",\\\"updateSource\\\",\\\"UpdateSource\\\",\\\"closestSectionHeader\\\",\\\"isSameDay\\\",\\\"findClosestDateAfter\\\",\\\"scrolledByUser\\\",\\\"isSameMonth\\\",\\\"runOnJS\\\",\\\"scrollToIndex\\\",\\\"__closure\\\",\\\"value\\\",\\\"AGENDA_SCROLL\\\",\\\"_closestSectionHeader\\\",\\\"_closestSectionHeader2\\\",\\\"date\\\",\\\"undefined\\\",\\\"result\\\",\\\"dateSectionHeader\\\",\\\"index\\\",\\\"_isSameMonth\\\"],\\\"sources\\\":[\\\"/Users/mac/Repositories/BlockmakerIT/02-building-manager-mvp-app/node_modules/react-native-ui-lib/src/incubator/Calendar/Agenda.js\\\"],\\\"mappings\\\":\\\"AAsGK,QAAC,CAAAA,UAAQC,QAAE,CAAQC,QAAK,QAAAC,YAAA,CAAAC,YAAA,CAAAC,oBAAA,CAAAC,SAAA,CAAAC,oBAAA,CAAAC,cAAA,CAAAC,WAAA,CAAAC,OAAA,CAAAC,aAAA,OAAAC,SAAA,CACzB,GAAIT,YAAY,CAACU,KAAK,GAAKT,YAAY,CAACU,aAAa,CAAE,KAAAC,qBAAA,CAAAC,sBAAA,CACrD,GAAIf,QAAQ,GAAKC,QAAQ,GAAK,EAAAa,qBAAA,CAAAV,oBAAoB,CAACQ,KAAK,UAAAE,qBAAA,iBAA1BA,qBAAA,CAA4BE,IAAI,IAAKC,SAAS,EAAI,CAACZ,SAAS,CAACL,QAAQ,EAAAe,sBAAA,CAAEX,oBAAoB,CAACQ,KAAK,UAAAG,sBAAA,iBAA1BA,sBAAA,CAA4BC,IAAI,CAAC,CAAC,CAAE,CACvI,KAAM,CAAAE,MAAM,CAAGZ,oBAAoB,CAACN,QAAQ,CAAC,CAC7C,GAAIkB,MAAM,GAAK,IAAI,CAAE,CACnB,KAAM,CACJC,iBAAiB,CAAjBA,iBAAiB,CACjBC,KAAA,CAAAA,KACF,CAAC,CAAGF,MAAM,CACVd,oBAAoB,CAACQ,KAAK,CAAGO,iBAAiB,CAC9CZ,cAAc,CAACK,KAAK,CAAG,KAAK,CAE5B,GAAIX,QAAQ,CAAE,CACZ,KAAM,CAAAoB,YAAY,CAAGb,WAAW,CAACR,QAAQ,CAAEC,QAAQ,CAAC,CACpDQ,OAAO,CAACC,aAAa,CAAC,CAACU,KAAK,CAAEC,YAAY,CAAC,CAC7C,CACF,CACF,CACF,CACF\\\"}\",\n  version: \"3.6.1\"\n};\nfunction Agenda(props) {\n  var _findClosestDateAfter, _findClosestDateAfter2;\n  var renderEvent = props.renderEvent,\n    renderHeader = props.renderHeader,\n    _props$itemHeight = props.itemHeight,\n    itemHeight = _props$itemHeight === void 0 ? 50 : _props$itemHeight,\n    onEndReached = props.onEndReached,\n    showLoader = props.showLoader;\n  var _useContext = useContext(CalendarContext),\n    data = _useContext.data,\n    selectedDate = _useContext.selectedDate,\n    setDate = _useContext.setDate,\n    updateSource = _useContext.updateSource;\n  var flashList = useRef(null);\n  var closestSectionHeader = useSharedValue(null);\n  var scrolledByUser = useSharedValue(false);\n  var _renderEvent = useCallback(function (eventItem) {\n    if (renderEvent) {\n      return _jsx(View, {\n        height: itemHeight,\n        style: styles.eventContainer,\n        children: renderEvent(eventItem)\n      });\n    }\n    return _jsx(View, {\n      \"marginV-1\": true,\n      \"marginH-10\": true,\n      \"paddingH-10\": true,\n      height: itemHeight,\n      centerV: true,\n      style: styles.event,\n      children: _jsxs(Text, {\n        children: [\"Item for\", new Date(eventItem.start).toLocaleString('en-GB', {\n          month: 'short',\n          day: 'numeric',\n          hour12: false,\n          hour: '2-digit',\n          minute: '2-digit'\n        }), \"-\", new Date(eventItem.end).toLocaleString('en-GB', {\n          hour12: false,\n          hour: '2-digit',\n          minute: '2-digit'\n        })]\n      })\n    });\n  }, [renderEvent, itemHeight]);\n  var _renderHeader = useCallback(function (headerItem) {\n    if (renderHeader) {\n      return _jsx(View, {\n        height: itemHeight,\n        children: renderHeader(headerItem)\n      });\n    }\n    return _jsx(View, {\n      bottom: true,\n      \"marginB-5\": true,\n      \"marginH-20\": true,\n      height: itemHeight,\n      children: _jsx(Text, {\n        children: headerItem.header\n      })\n    });\n  }, [renderHeader, itemHeight]);\n  var renderItem = useCallback(function (_ref) {\n    var item = _ref.item;\n    switch (item.type) {\n      case 'Event':\n        return _renderEvent(item);\n      case 'Header':\n        return _renderHeader(item);\n    }\n  }, [_renderEvent, _renderHeader]);\n  var getItemType = useCallback(function (item) {\n    return item.type;\n  }, []);\n  var findClosestDateAfter = useCallback(function () {\n    var _e = [new global.Error(), -2, -27];\n    var anonymous = function anonymous(selected) {\n      for (var index = 0; index < data.length; ++index) {\n        var item = data[index];\n        if (item.type === 'Header') {\n          if (item.date >= selected) {\n            return {\n              dateSectionHeader: item,\n              index: index\n            };\n          }\n        }\n      }\n      return null;\n    };\n    anonymous.__closure = {\n      data: data\n    };\n    anonymous.__workletHash = 12690639340676;\n    anonymous.__initData = _worklet_12690639340676_init_data;\n    anonymous.__stackDetails = _e;\n    return anonymous;\n  }(), [data]);\n  var scrollToIndex = useCallback(function (index, animated) {\n    var _flashList$current;\n    (_flashList$current = flashList.current) == null ? void 0 : _flashList$current.scrollToIndex({\n      index: index,\n      animated: animated\n    });\n  }, []);\n  useAnimatedReaction(function () {\n    var _e = [new global.Error(), -2, -27];\n    var anonymous = function anonymous() {\n      return selectedDate.value;\n    };\n    anonymous.__closure = {\n      selectedDate: selectedDate\n    };\n    anonymous.__workletHash = 14379379929081;\n    anonymous.__initData = _worklet_14379379929081_init_data;\n    anonymous.__stackDetails = _e;\n    return anonymous;\n  }(), function () {\n    var _e = [new global.Error(), -10, -27];\n    var anonymous = function anonymous(selected, previous) {\n      if (updateSource.value !== UpdateSource.AGENDA_SCROLL) {\n        var _closestSectionHeader, _closestSectionHeader2;\n        if (selected !== previous && (((_closestSectionHeader = closestSectionHeader.value) == null ? void 0 : _closestSectionHeader.date) === undefined || !isSameDay(selected, (_closestSectionHeader2 = closestSectionHeader.value) == null ? void 0 : _closestSectionHeader2.date))) {\n          var result = findClosestDateAfter(selected);\n          if (result !== null) {\n            var dateSectionHeader = result.dateSectionHeader,\n              index = result.index;\n            closestSectionHeader.value = dateSectionHeader;\n            scrolledByUser.value = false;\n            if (previous) {\n              var _isSameMonth = isSameMonth(selected, previous);\n              runOnJS(scrollToIndex)(index, _isSameMonth);\n            }\n          }\n        }\n      }\n    };\n    anonymous.__closure = {\n      updateSource: updateSource,\n      UpdateSource: UpdateSource,\n      closestSectionHeader: closestSectionHeader,\n      isSameDay: isSameDay,\n      findClosestDateAfter: findClosestDateAfter,\n      scrolledByUser: scrolledByUser,\n      isSameMonth: isSameMonth,\n      runOnJS: runOnJS,\n      scrollToIndex: scrollToIndex\n    };\n    anonymous.__workletHash = 6332743892896;\n    anonymous.__initData = _worklet_6332743892896_init_data;\n    anonymous.__stackDetails = _e;\n    return anonymous;\n  }(), [findClosestDateAfter]);\n  var onViewableItemsChanged = useCallback(function (_ref2) {\n    var viewableItems = _ref2.viewableItems;\n    if (scrolledByUser.value) {\n      var result = viewableItems.find(function (item) {\n        return item.item.type === 'Header';\n      });\n      if (result) {\n        var _closestSectionHeader3;\n        var item = result.item;\n        if (((_closestSectionHeader3 = closestSectionHeader.value) == null ? void 0 : _closestSectionHeader3.date) !== item.date) {\n          closestSectionHeader.value = item;\n          setDate(item.date, UpdateSource.AGENDA_SCROLL);\n        }\n      }\n    }\n  }, []);\n  var onMomentumScrollBegin = useCallback(function () {\n    scrolledByUser.value = true;\n  }, []);\n  var onScrollBeginDrag = useCallback(function () {\n    scrolledByUser.value = true;\n  }, []);\n  var _onEndReached = useCallback(function () {\n    onEndReached == null ? void 0 : onEndReached(selectedDate.value);\n  }, [onEndReached]);\n  return _jsxs(View, {\n    flex: true,\n    children: [_jsx(FlashList, {\n      ref: flashList,\n      estimatedItemSize: 52,\n      data: data,\n      renderItem: renderItem,\n      getItemType: getItemType,\n      onViewableItemsChanged: onViewableItemsChanged,\n      onMomentumScrollBegin: onMomentumScrollBegin,\n      onScrollBeginDrag: onScrollBeginDrag,\n      initialScrollIndex: (_findClosestDateAfter = (_findClosestDateAfter2 = findClosestDateAfter(selectedDate.value)) == null ? void 0 : _findClosestDateAfter2.index) != null ? _findClosestDateAfter : 0,\n      onEndReached: _onEndReached\n    }), showLoader && _jsx(View, {\n      absF: true,\n      center: true,\n      style: {\n        backgroundColor: Colors.rgba(Colors.grey10, 0.2)\n      },\n      children: _jsx(ActivityIndicator, {})\n    })]\n  });\n}\nexport default Agenda;\nvar styles = StyleSheet.create({\n  eventContainer: {\n    overflow: 'hidden'\n  },\n  event: {\n    borderWidth: 1,\n    borderRadius: BorderRadiuses.br20\n  }\n});","map":{"version":3,"names":["React","useContext","useCallback","useRef","ActivityIndicator","StyleSheet","runOnJS","useAnimatedReaction","useSharedValue","FlashListPackage","BorderRadiuses","Colors","View","Text","isSameDay","isSameMonth","UpdateSource","CalendarContext","jsx","_jsx","jsxs","_jsxs","FlashList","_worklet_12690639340676_init_data","code","location","sourceMap","version","_worklet_14379379929081_init_data","_worklet_6332743892896_init_data","Agenda","props","_findClosestDateAfter","_findClosestDateAfter2","renderEvent","renderHeader","_props$itemHeight","itemHeight","onEndReached","showLoader","_useContext","data","selectedDate","setDate","updateSource","flashList","closestSectionHeader","scrolledByUser","_renderEvent","eventItem","height","style","styles","eventContainer","children","centerV","event","Date","start","toLocaleString","month","day","hour12","hour","minute","end","_renderHeader","headerItem","bottom","header","renderItem","_ref","item","type","getItemType","findClosestDateAfter","_e","global","Error","anonymous","selected","index","length","date","dateSectionHeader","__closure","__workletHash","__initData","__stackDetails","scrollToIndex","animated","_flashList$current","current","value","previous","AGENDA_SCROLL","_closestSectionHeader","_closestSectionHeader2","undefined","result","_isSameMonth","onViewableItemsChanged","_ref2","viewableItems","find","_closestSectionHeader3","onMomentumScrollBegin","onScrollBeginDrag","_onEndReached","flex","ref","estimatedItemSize","initialScrollIndex","absF","center","backgroundColor","rgba","grey10","create","overflow","borderWidth","borderRadius","br20"],"sources":["/Users/mac/Repositories/BlockmakerIT/02-building-manager-mvp-app/node_modules/react-native-ui-lib/src/incubator/Calendar/Agenda.js"],"sourcesContent":["import React, { useContext, useCallback, useRef } from 'react';\nimport { ActivityIndicator, StyleSheet } from 'react-native';\nimport { runOnJS, useAnimatedReaction, useSharedValue } from 'react-native-reanimated';\nimport { FlashListPackage } from \"../../optionalDependencies\";\nimport { BorderRadiuses, Colors } from \"../../style\";\nimport View from \"../../components/view\";\nimport Text from \"../../components/text\";\nimport { isSameDay, isSameMonth } from \"./helpers/DateUtils\";\nimport { UpdateSource } from \"./types\";\nimport CalendarContext from \"./CalendarContext\";\nconst FlashList = FlashListPackage?.FlashList;\n\n// TODO: Fix initial scrolling\nfunction Agenda(props) {\n  const {\n    renderEvent,\n    renderHeader,\n    itemHeight = 50,\n    onEndReached,\n    showLoader\n  } = props;\n  const {\n    data,\n    selectedDate,\n    setDate,\n    updateSource\n  } = useContext(CalendarContext);\n  const flashList = useRef(null);\n  const closestSectionHeader = useSharedValue(null);\n  const scrolledByUser = useSharedValue(false);\n\n  /* const keyExtractor = useCallback((item: InternalEvent) => {\n    return item.type === 'Event' ? item.id : item.header;\n  }, []); */\n\n  const _renderEvent = useCallback(eventItem => {\n    if (renderEvent) {\n      return <View height={itemHeight} style={styles.eventContainer}>\n          {renderEvent(eventItem)}\n        </View>;\n    }\n    return <View marginV-1 marginH-10 paddingH-10 height={itemHeight} centerV style={styles.event}>\n        <Text>\n          Item for\n          {new Date(eventItem.start).toLocaleString('en-GB', {\n          month: 'short',\n          day: 'numeric',\n          hour12: false,\n          hour: '2-digit',\n          minute: '2-digit'\n        })}\n          -{new Date(eventItem.end).toLocaleString('en-GB', {\n          hour12: false,\n          hour: '2-digit',\n          minute: '2-digit'\n        })}\n        </Text>\n      </View>;\n  }, [renderEvent, itemHeight]);\n  const _renderHeader = useCallback(headerItem => {\n    if (renderHeader) {\n      return <View height={itemHeight}>{renderHeader(headerItem)}</View>;\n    }\n    return <View bottom marginB-5 marginH-20 height={itemHeight}>\n        <Text>{headerItem.header}</Text>\n      </View>;\n  }, [renderHeader, itemHeight]);\n  const renderItem = useCallback(({\n    item\n  }) => {\n    switch (item.type) {\n      case 'Event':\n        return _renderEvent(item);\n      case 'Header':\n        return _renderHeader(item);\n    }\n  }, [_renderEvent, _renderHeader]);\n  const getItemType = useCallback(item => item.type, []);\n  const findClosestDateAfter = useCallback(selected => {\n    'worklet';\n\n    for (let index = 0; index < data.length; ++index) {\n      const item = data[index];\n      if (item.type === 'Header') {\n        if (item.date >= selected) {\n          return {\n            dateSectionHeader: item,\n            index\n          };\n        }\n      }\n    }\n    return null;\n  }, [data]);\n  const scrollToIndex = useCallback((index, animated) => {\n    flashList.current?.scrollToIndex({\n      index,\n      animated\n    });\n  }, []);\n  useAnimatedReaction(() => {\n    return selectedDate.value;\n  }, (selected, previous) => {\n    if (updateSource.value !== UpdateSource.AGENDA_SCROLL) {\n      if (selected !== previous && (closestSectionHeader.value?.date === undefined || !isSameDay(selected, closestSectionHeader.value?.date))) {\n        const result = findClosestDateAfter(selected);\n        if (result !== null) {\n          const {\n            dateSectionHeader,\n            index\n          } = result;\n          closestSectionHeader.value = dateSectionHeader;\n          scrolledByUser.value = false;\n          // TODO: Can the animation be improved (not in JS)?\n          if (previous) {\n            const _isSameMonth = isSameMonth(selected, previous);\n            runOnJS(scrollToIndex)(index, _isSameMonth);\n          }\n        }\n      }\n    }\n  }, [findClosestDateAfter]);\n\n  // TODO: look at https://docs.swmansion.com/react-native-reanimated/docs/api/hooks/useAnimatedScrollHandler\n  const onViewableItemsChanged = useCallback(({\n    viewableItems\n  }) => {\n    if (scrolledByUser.value) {\n      const result = viewableItems.find(item => item.item.type === 'Header');\n      if (result) {\n        const {\n          item\n        } = result;\n        if (closestSectionHeader.value?.date !== item.date) {\n          closestSectionHeader.value = item;\n          setDate(item.date, UpdateSource.AGENDA_SCROLL);\n        }\n      }\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  const onMomentumScrollBegin = useCallback(() => {\n    scrolledByUser.value = true;\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  const onScrollBeginDrag = useCallback(() => {\n    scrolledByUser.value = true;\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  const _onEndReached = useCallback(() => {\n    onEndReached?.(selectedDate.value);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [onEndReached]);\n  return <View flex>\n      <FlashList ref={flashList} estimatedItemSize={52} data={data}\n    // TODO: Not sure we need key extractor in flash list\n    // keyExtractor={keyExtractor}\n    renderItem={renderItem} getItemType={getItemType} onViewableItemsChanged={onViewableItemsChanged} onMomentumScrollBegin={onMomentumScrollBegin} onScrollBeginDrag={onScrollBeginDrag} initialScrollIndex={findClosestDateAfter(selectedDate.value)?.index ?? 0} onEndReached={_onEndReached} />\n      {showLoader && <View absF center style={{\n      backgroundColor: Colors.rgba(Colors.grey10, 0.2)\n    }}>\n          <ActivityIndicator />\n        </View>}\n    </View>;\n}\nexport default Agenda;\nconst styles = StyleSheet.create({\n  eventContainer: {\n    overflow: 'hidden'\n  },\n  event: {\n    borderWidth: 1,\n    borderRadius: BorderRadiuses.br20\n  }\n});"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}