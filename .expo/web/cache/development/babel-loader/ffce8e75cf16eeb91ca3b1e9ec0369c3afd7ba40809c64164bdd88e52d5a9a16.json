{"ast":null,"code":"import _get from \"lodash/get\";\nimport _find from \"lodash/find\";\nimport _isArray from \"lodash/isArray\";\nimport _isUndefined from \"lodash/isUndefined\";\nimport _isFunction from \"lodash/isFunction\";\nimport _join from \"lodash/join\";\nimport _isPlainObject from \"lodash/isPlainObject\";\nimport _map from \"lodash/map\";\nimport _flow from \"lodash/flow\";\nimport _keyBy from \"lodash/keyBy\";\nimport { useCallback, useMemo } from 'react';\nvar usePickerLabel = function usePickerLabel(props) {\n  var value = props.value,\n    items = props.items,\n    getLabel = props.getLabel,\n    getItemLabel = props.getItemLabel,\n    placeholder = props.placeholder,\n    accessibilityLabel = props.accessibilityLabel,\n    accessibilityHint = props.accessibilityHint;\n  var getLabelsFromArray = useCallback(function (value) {\n    var itemsByValue = _keyBy(items, 'value');\n    return _flow(function (arr) {\n      return _map(arr, function (item) {\n        var _itemsByValue$item;\n        return _isPlainObject(item) ? (getItemLabel == null ? void 0 : getItemLabel(item)) || (item == null ? void 0 : item.label) : (_itemsByValue$item = itemsByValue[item]) == null ? void 0 : _itemsByValue$item.label;\n      });\n    }, function (arr) {\n      return _join(arr, ', ');\n    })(value);\n  }, [getItemLabel, items]);\n  var _getLabel = useCallback(function (value) {\n    if (_isFunction(getLabel) && !_isUndefined(getLabel(value))) {\n      return getLabel(value);\n    }\n    if (_isArray(value)) {\n      return getLabelsFromArray(value);\n    }\n    var selectedItem = _find(items, {\n      value: value\n    });\n    return _get(selectedItem, 'label');\n  }, [getLabelsFromArray, items]);\n  var accessibilityInfo = useMemo(function () {\n    var label = _getLabel(value);\n    return {\n      accessibilityLabel: accessibilityLabel != null ? accessibilityLabel : label ? `${placeholder}. selected. ${label}` : `Select ${placeholder}`,\n      accessibilityHint: accessibilityHint != null ? accessibilityHint : label ? 'Double tap to edit' : `Goes to ${placeholder}. Suggestions will be provided`\n    };\n  }, [value, accessibilityLabel, accessibilityHint]);\n  return {\n    getLabelsFromArray: getLabelsFromArray,\n    getLabel: _getLabel,\n    accessibilityInfo: accessibilityInfo,\n    label: _getLabel(value)\n  };\n};\nexport default usePickerLabel;","map":{"version":3,"names":["_get","_find","_isArray","_isUndefined","_isFunction","_join","_isPlainObject","_map","_flow","_keyBy","useCallback","useMemo","usePickerLabel","props","value","items","getLabel","getItemLabel","placeholder","accessibilityLabel","accessibilityHint","getLabelsFromArray","itemsByValue","arr","item","_itemsByValue$item","label","_getLabel","selectedItem","accessibilityInfo"],"sources":["/Users/mac/Repositories/BlockmakerIT/02-building-manager-mvp-app/node_modules/react-native-ui-lib/src/components/picker/helpers/usePickerLabel.js"],"sourcesContent":["import _get from \"lodash/get\";\nimport _find from \"lodash/find\";\nimport _isArray from \"lodash/isArray\";\nimport _isUndefined from \"lodash/isUndefined\";\nimport _isFunction from \"lodash/isFunction\";\nimport _join from \"lodash/join\";\nimport _isPlainObject from \"lodash/isPlainObject\";\nimport _map from \"lodash/map\";\nimport _flow from \"lodash/flow\";\nimport _keyBy from \"lodash/keyBy\";\nimport { useCallback, useMemo } from 'react';\nconst usePickerLabel = props => {\n  const {\n    value,\n    items,\n    getLabel,\n    getItemLabel,\n    placeholder,\n    accessibilityLabel,\n    accessibilityHint\n  } = props;\n  const getLabelsFromArray = useCallback(value => {\n    const itemsByValue = _keyBy(items, 'value');\n    return _flow(arr => _map(arr, item => _isPlainObject(item) ? getItemLabel?.(item) || item?.label : itemsByValue[item]?.label), arr => _join(arr, ', '))(value);\n  }, [getItemLabel, items]);\n  const _getLabel = useCallback(value => {\n    if (_isFunction(getLabel) && !_isUndefined(getLabel(value))) {\n      return getLabel(value);\n    }\n    if (_isArray(value)) {\n      return getLabelsFromArray(value);\n    }\n\n    // TODO: Remove\n    // if (typeof value === 'object') {\n    //   return value?.label;\n    // }\n\n    // otherwise, extract from picker items\n    const selectedItem = _find(items, {\n      value\n    });\n    return _get(selectedItem, 'label');\n  }, [getLabelsFromArray, items]);\n  const accessibilityInfo = useMemo(() => {\n    const label = _getLabel(value);\n    return {\n      accessibilityLabel: accessibilityLabel ?? (label ? `${placeholder}. selected. ${label}` : `Select ${placeholder}`),\n      accessibilityHint: accessibilityHint ?? (label ? 'Double tap to edit' : `Goes to ${placeholder}. Suggestions will be provided`)\n    };\n  }, [value, accessibilityLabel, accessibilityHint]);\n  return {\n    getLabelsFromArray,\n    getLabel: _getLabel,\n    accessibilityInfo,\n    label: _getLabel(value)\n  };\n};\nexport default usePickerLabel;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}