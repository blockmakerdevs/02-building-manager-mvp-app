{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport _isFunction from \"lodash/isFunction\";\nimport _isUndefined from \"lodash/isUndefined\";\nimport { useCallback, useRef } from 'react';\nimport { Constants } from \"../../commons/new\";\nvar useScrollTo = function useScrollTo(props) {\n  var propsScrollViewRef = props.scrollViewRef,\n    _props$horizontal = props.horizontal,\n    horizontal = _props$horizontal === void 0 ? true : _props$horizontal;\n  var newScrollViewRef = useRef(null);\n  var scrollViewRef = propsScrollViewRef || newScrollViewRef;\n  var contentSize = useRef(undefined);\n  var containerSize = useRef(undefined);\n  var onContentSizeChange = useCallback(function (contentWidth, contentHeight) {\n    contentSize.current = horizontal ? contentWidth : contentHeight;\n  }, [horizontal]);\n  var onLayout = useCallback(function (event) {\n    var _event$nativeEvent$la = event.nativeEvent.layout,\n      width = _event$nativeEvent$la.width,\n      height = _event$nativeEvent$la.height;\n    containerSize.current = horizontal ? width : height;\n  }, [horizontal]);\n  var scrollTo = useCallback(function (offset) {\n    var _scrollViewRef$curren, _scrollViewRef$curren2;\n    var animated = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    if (horizontal && Constants.isRTL && Constants.isAndroid && !_isUndefined(contentSize.current) && !_isUndefined(containerSize.current)) {\n      var scrollingWidth = Math.max(0, contentSize.current - containerSize.current);\n      offset = scrollingWidth - offset;\n    }\n    if (_isFunction((_scrollViewRef$curren = scrollViewRef.current) == null ? void 0 : _scrollViewRef$curren.scrollToOffset)) {\n      scrollViewRef.current.scrollToOffset({\n        offset: offset,\n        animated: animated\n      });\n    } else if (_isFunction((_scrollViewRef$curren2 = scrollViewRef.current) == null ? void 0 : _scrollViewRef$curren2.scrollTo)) {\n      var scrollToXY = horizontal ? {\n        x: offset\n      } : {\n        y: offset\n      };\n      scrollViewRef.current.scrollTo(_objectSpread(_objectSpread({}, scrollToXY), {}, {\n        animated: animated\n      }));\n    }\n  }, [scrollViewRef, horizontal]);\n  return {\n    scrollViewRef: scrollViewRef,\n    scrollTo: scrollTo,\n    onContentSizeChange: onContentSizeChange,\n    onLayout: onLayout\n  };\n};\nexport default useScrollTo;","map":{"version":3,"names":["_isFunction","_isUndefined","useCallback","useRef","Constants","useScrollTo","props","propsScrollViewRef","scrollViewRef","_props$horizontal","horizontal","newScrollViewRef","contentSize","undefined","containerSize","onContentSizeChange","contentWidth","contentHeight","current","onLayout","event","_event$nativeEvent$la","nativeEvent","layout","width","height","scrollTo","offset","_scrollViewRef$curren","_scrollViewRef$curren2","animated","arguments","length","isRTL","isAndroid","scrollingWidth","Math","max","scrollToOffset","scrollToXY","x","y","_objectSpread"],"sources":["/Users/mac/Repositories/BlockmakerIT/02-building-manager-mvp-app/node_modules/react-native-ui-lib/src/hooks/useScrollTo/index.js"],"sourcesContent":["import _isFunction from \"lodash/isFunction\";\nimport _isUndefined from \"lodash/isUndefined\";\nimport { useCallback, useRef } from 'react';\nimport { Constants } from \"../../commons/new\";\nconst useScrollTo = props => {\n  const {\n    scrollViewRef: propsScrollViewRef,\n    horizontal = true\n  } = props;\n  const newScrollViewRef = useRef(null);\n  const scrollViewRef = propsScrollViewRef || newScrollViewRef;\n  const contentSize = useRef(undefined);\n  const containerSize = useRef(undefined);\n  const onContentSizeChange = useCallback((contentWidth, contentHeight) => {\n    contentSize.current = horizontal ? contentWidth : contentHeight;\n  }, [horizontal]);\n  const onLayout = useCallback(event => {\n    const {\n      nativeEvent: {\n        layout: {\n          width,\n          height\n        }\n      }\n    } = event;\n    containerSize.current = horizontal ? width : height;\n  }, [horizontal]);\n  const scrollTo = useCallback((offset, animated = true) => {\n    if (horizontal && Constants.isRTL && Constants.isAndroid && !_isUndefined(contentSize.current) && !_isUndefined(containerSize.current)) {\n      const scrollingWidth = Math.max(0, contentSize.current - containerSize.current);\n      offset = scrollingWidth - offset;\n    }\n\n    // @ts-ignore\n    if (_isFunction(scrollViewRef.current?.scrollToOffset)) {\n      // @ts-ignore\n      scrollViewRef.current.scrollToOffset({\n        offset,\n        animated\n      });\n      // @ts-ignore\n    } else if (_isFunction(scrollViewRef.current?.scrollTo)) {\n      const scrollToXY = horizontal ? {\n        x: offset\n      } : {\n        y: offset\n      };\n      // @ts-ignore\n      scrollViewRef.current.scrollTo({\n        ...scrollToXY,\n        animated\n      });\n    }\n  }, [scrollViewRef, horizontal]);\n  return {\n    scrollViewRef,\n    scrollTo,\n    onContentSizeChange,\n    onLayout\n  };\n};\nexport default useScrollTo;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}