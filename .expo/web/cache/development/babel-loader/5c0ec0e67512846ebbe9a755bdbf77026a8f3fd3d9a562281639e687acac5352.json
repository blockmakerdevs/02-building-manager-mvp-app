{"ast":null,"code":"import _endsWith from \"lodash/endsWith\";\nimport _toUpper from \"lodash/toUpper\";\nimport _each from \"lodash/each\";\nimport _take from \"lodash/take\";\nimport _filter from \"lodash/filter\";\nimport _split from \"lodash/split\";\nimport _flow from \"lodash/flow\";\nimport _isString from \"lodash/isString\";\nimport URL from 'url-parse';\nimport Colors from \"../style/colors\";\nimport { Typography } from \"../style\";\nexport function getInitialsTypography(size) {\n  var typography;\n  switch (true) {\n    case size < 24:\n      typography = {\n        fontSize: 10\n      };\n      break;\n    case size < 34:\n      typography = Typography.text90BO;\n      break;\n    case size < 54:\n      typography = Typography.text80BO;\n      break;\n    case size < 70:\n      typography = Typography.text60BO;\n      break;\n    case size < 100:\n      typography = Typography.text50H;\n      break;\n    default:\n    case size >= 100:\n      typography = Typography.text40H;\n      break;\n  }\n  return typography;\n}\nexport function hashStringToNumber(str) {\n  var hash = 5381;\n  if (str) {\n    for (var i = 0; i < str.length; i++) {\n      var char = str.charCodeAt(i);\n      hash = (hash << 5) + hash + char;\n    }\n  }\n  return hash;\n}\nexport function getAvatarColors() {\n  return [Colors.blue20, Colors.cyan20, Colors.green20, Colors.yellow20, Colors.orange20, Colors.red20, Colors.purple20, Colors.violet20];\n}\nexport function getColorById(id) {\n  var avatarColors = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : getAvatarColors();\n  if (!id) {\n    return avatarColors[0];\n  }\n  var hashedId = hashStringToNumber(id);\n  var colorIndex = Math.abs(hashedId % avatarColors.length);\n  return avatarColors[colorIndex];\n}\nexport function getInitials(name) {\n  var limit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 2;\n  var initials = '';\n  if (name && _isString(name)) {\n    var nameSplitted = _flow(function (name) {\n      return _split(name, /\\s+/g);\n    }, function (words) {\n      return _filter(words, function (word) {\n        return word.length > 0;\n      });\n    }, function (words) {\n      return _take(words, limit);\n    })(name);\n    _each(nameSplitted, function (str) {\n      initials += str[0];\n    });\n  }\n  return _toUpper(initials);\n}\nexport function getBackgroundColor(name, avatarColors, hashFunction, defaultColor) {\n  if (!name || !avatarColors || !hashFunction) {\n    return defaultColor;\n  }\n  var hash = hashFunction(name);\n  var index = Math.abs(hash % avatarColors.length);\n  return avatarColors[index];\n}\nexport function isGravatarUrl(url) {\n  var _URL = new URL(url),\n    hostname = _URL.hostname,\n    pathname = _URL.pathname;\n  return _split(hostname, '.').includes('gravatar') && pathname.startsWith('/avatar/');\n}\nexport function isBlankGravatarUrl(url) {\n  return isGravatarUrl(url) && _endsWith(url, '?d=blank');\n}\nexport function patchGravatarUrl(gravatarUrl) {\n  var url = new URL(gravatarUrl, true);\n  var query = url.query;\n  query.d = '404';\n  delete query.default;\n  url.set('query', query);\n  return url.toString();\n}","map":{"version":3,"names":["_endsWith","_toUpper","_each","_take","_filter","_split","_flow","_isString","URL","Colors","Typography","getInitialsTypography","size","typography","fontSize","text90BO","text80BO","text60BO","text50H","text40H","hashStringToNumber","str","hash","i","length","char","charCodeAt","getAvatarColors","blue20","cyan20","green20","yellow20","orange20","red20","purple20","violet20","getColorById","id","avatarColors","arguments","undefined","hashedId","colorIndex","Math","abs","getInitials","name","limit","initials","nameSplitted","words","word","getBackgroundColor","hashFunction","defaultColor","index","isGravatarUrl","url","_URL","hostname","pathname","includes","startsWith","isBlankGravatarUrl","patchGravatarUrl","gravatarUrl","query","d","default","set","toString"],"sources":["/Users/mac/Repositories/BlockmakerIT/02-building-manager-mvp-app/node_modules/react-native-ui-lib/src/helpers/AvatarHelper.js"],"sourcesContent":["import _endsWith from \"lodash/endsWith\";\nimport _toUpper from \"lodash/toUpper\";\nimport _each from \"lodash/each\";\nimport _take from \"lodash/take\";\nimport _filter from \"lodash/filter\";\nimport _split from \"lodash/split\";\nimport _flow from \"lodash/flow\";\nimport _isString from \"lodash/isString\";\nimport URL from 'url-parse';\nimport Colors from \"../style/colors\";\nimport { Typography } from \"../style\";\nexport function getInitialsTypography(size) {\n  let typography;\n  switch (true) {\n    case size < 24:\n      typography = {\n        fontSize: 10\n      };\n      break;\n    case size < 34:\n      typography = Typography.text90BO;\n      break;\n    case size < 54:\n      typography = Typography.text80BO;\n      break;\n    case size < 70:\n      typography = Typography.text60BO;\n      break;\n    case size < 100:\n      typography = Typography.text50H;\n      break;\n    default:\n    case size >= 100:\n      typography = Typography.text40H;\n      break;\n  }\n  return typography;\n}\nexport function hashStringToNumber(str) {\n  let hash = 5381;\n  if (str) {\n    for (let i = 0; i < str.length; i++) {\n      const char = str.charCodeAt(i);\n      hash = (hash << 5) + hash + char; /* hash * 33 + c */ // eslint-disable-line\n    }\n  }\n  return hash;\n}\nexport function getAvatarColors() {\n  return [Colors.blue20, Colors.cyan20, Colors.green20, Colors.yellow20, Colors.orange20, Colors.red20, Colors.purple20, Colors.violet20];\n}\nexport function getColorById(id, avatarColors = getAvatarColors()) {\n  if (!id) {\n    return avatarColors[0];\n  }\n  const hashedId = hashStringToNumber(id);\n  const colorIndex = Math.abs(hashedId % avatarColors.length);\n  return avatarColors[colorIndex];\n}\nexport function getInitials(name, limit = 2) {\n  let initials = '';\n  if (name && _isString(name)) {\n    const nameSplitted = _flow(name => _split(name, /\\s+/g), words => _filter(words, word => word.length > 0), words => _take(words, limit))(name);\n    _each(nameSplitted, str => {\n      initials += str[0];\n    });\n  }\n  return _toUpper(initials);\n}\nexport function getBackgroundColor(name, avatarColors, hashFunction, defaultColor) {\n  if (!name || !avatarColors || !hashFunction) {\n    return defaultColor;\n  }\n  const hash = hashFunction(name);\n  const index = Math.abs(hash % avatarColors.length);\n  return avatarColors[index];\n}\nexport function isGravatarUrl(url) {\n  const {\n    hostname,\n    pathname\n  } = new URL(url);\n  return _split(hostname, '.').includes('gravatar') && pathname.startsWith('/avatar/');\n}\nexport function isBlankGravatarUrl(url) {\n  return isGravatarUrl(url) && _endsWith(url, '?d=blank');\n}\nexport function patchGravatarUrl(gravatarUrl) {\n  const url = new URL(gravatarUrl, true);\n  const {\n    query\n  } = url;\n  query.d = '404';\n  delete query.default;\n  url.set('query', query);\n  return url.toString();\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}