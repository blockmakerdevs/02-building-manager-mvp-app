{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nvar _excluded = [\"data\", \"style\", \"tintColor\", \"width\", \"height\"];\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport React, { useEffect, useState } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Image from \"../image\";\nimport { isSvg, isSvgUri, isBase64ImageContent } from \"../../utils/imageUtils\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar PostCssPackage = require(\"../../optionalDependencies\").PostCssPackage;\nvar DEFAULT_SIZE = 16;\nfunction SvgImage(props) {\n  var data = props.data,\n    _props$style = props.style,\n    style = _props$style === void 0 ? [] : _props$style,\n    tintColor = props.tintColor,\n    width = props.width,\n    height = props.height,\n    others = _objectWithoutProperties(props, _excluded);\n  var _useState = useState(`svg-${new Date().getTime().toString()}`),\n    _useState2 = _slicedToArray(_useState, 1),\n    className = _useState2[0];\n  var _useState3 = useState(undefined),\n    _useState4 = _slicedToArray(_useState3, 2),\n    svgStyleCss = _useState4[0],\n    setSvgStyleCss = _useState4[1];\n  useEffect(function () {\n    if (PostCssPackage) {\n      var postcss = PostCssPackage.postcss,\n        cssjs = PostCssPackage.cssjs;\n      var styleObj = StyleSheet.flatten(style);\n      postcss().process(_objectSpread({\n        width: width,\n        height: height\n      }, styleObj), {\n        parser: cssjs\n      }).then(function (style) {\n        var svgPathCss = styleObj != null && styleObj.tintColor ? `.${className} > svg path {fill: ${styleObj == null ? void 0 : styleObj.tintColor}}` : '';\n        setSvgStyleCss(`.${className} > svg {${style.css}} ${svgPathCss}}`);\n      });\n    }\n  }, [style, className, width, height]);\n  if (isSvgUri(data)) {\n    return _jsx(\"img\", _objectSpread(_objectSpread({}, others), {}, {\n      src: data.uri,\n      style: StyleSheet.flatten(style)\n    }));\n  } else if (isBase64ImageContent(data)) {\n    if (tintColor) {\n      return _jsx(Image, _objectSpread({\n        source: {\n          uri: data\n        },\n        width: DEFAULT_SIZE,\n        height: DEFAULT_SIZE,\n        style: [style, {\n          tintColor: tintColor\n        }]\n      }, others));\n    }\n    return _jsx(\"img\", _objectSpread(_objectSpread({}, others), {}, {\n      src: data,\n      style: StyleSheet.flatten(style)\n    }));\n  } else if (data && svgStyleCss) {\n    var svgStyleTag = `<style> ${svgStyleCss} </style>`;\n    return _jsx(\"div\", _objectSpread(_objectSpread({}, others), {}, {\n      className: className,\n      dangerouslySetInnerHTML: {\n        __html: svgStyleTag + data\n      }\n    }));\n  }\n  return null;\n}\nSvgImage.displayName = 'IGNORE';\nSvgImage.isSvg = isSvg;\nexport default SvgImage;","map":{"version":3,"names":["React","useEffect","useState","StyleSheet","Image","isSvg","isSvgUri","isBase64ImageContent","jsx","_jsx","PostCssPackage","require","DEFAULT_SIZE","SvgImage","props","data","_props$style","style","tintColor","width","height","others","_objectWithoutProperties","_excluded","_useState","Date","getTime","toString","_useState2","_slicedToArray","className","_useState3","undefined","_useState4","svgStyleCss","setSvgStyleCss","postcss","cssjs","styleObj","flatten","process","_objectSpread","parser","then","svgPathCss","css","src","uri","source","svgStyleTag","dangerouslySetInnerHTML","__html","displayName"],"sources":["/Users/mac/Repositories/BlockmakerIT/02-building-manager-mvp-app/node_modules/react-native-ui-lib/src/components/svgImage/index.web.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { StyleSheet } from 'react-native';\nimport Image from \"../image\";\nimport { isSvg, isSvgUri, isBase64ImageContent } from \"../../utils/imageUtils\";\nconst PostCssPackage = require(\"../../optionalDependencies\").PostCssPackage;\nconst DEFAULT_SIZE = 16;\nfunction SvgImage(props) {\n  const {\n    data,\n    style = [],\n    tintColor,\n    width,\n    height,\n    ...others\n  } = props;\n  const [className] = useState(`svg-${new Date().getTime().toString()}`);\n  const [svgStyleCss, setSvgStyleCss] = useState(undefined);\n  useEffect(() => {\n    if (PostCssPackage) {\n      const {\n        postcss,\n        cssjs\n      } = PostCssPackage;\n      const styleObj = StyleSheet.flatten(style);\n      postcss().process({\n        width,\n        height,\n        ...styleObj\n      }, {\n        parser: cssjs\n      }).then(style => {\n        const svgPathCss = styleObj?.tintColor ? `.${className} > svg path {fill: ${styleObj?.tintColor}}` : '';\n        setSvgStyleCss(`.${className} > svg {${style.css}} ${svgPathCss}}`);\n      });\n    }\n  }, [style, className, width, height]);\n  if (isSvgUri(data)) {\n    return <img {...others} src={data.uri} style={StyleSheet.flatten(style)} />;\n  } else if (isBase64ImageContent(data)) {\n    if (tintColor) {\n      return <Image source={{\n        uri: data\n      }} width={DEFAULT_SIZE} height={DEFAULT_SIZE} style={[style, {\n        tintColor\n      }]} {...others} />;\n    }\n    return <img {...others} src={data} style={StyleSheet.flatten(style)} />;\n  } else if (data && svgStyleCss) {\n    const svgStyleTag = `<style> ${svgStyleCss} </style>`;\n    return <div {...others} className={className}\n    // eslint-disable-next-line react/no-danger\n    dangerouslySetInnerHTML={{\n      __html: svgStyleTag + data\n    }} />;\n  }\n  return null;\n}\nSvgImage.displayName = 'IGNORE';\nSvgImage.isSvg = isSvg;\nexport default SvgImage;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}