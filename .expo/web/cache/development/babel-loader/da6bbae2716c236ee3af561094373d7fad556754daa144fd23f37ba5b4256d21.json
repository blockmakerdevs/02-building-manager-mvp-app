{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nvar _excluded = [\"forwardedRef\"];\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nimport React from 'react';\nimport hoistStatics from 'hoist-non-react-statics';\nimport * as Modifiers from \"./modifiers\";\nimport { Scheme, ThemeManager } from \"../style\";\nimport forwardRef from \"./forwardRef\";\nimport UIComponent from \"./UIComponent\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar EMPTY_MODIFIERS = {};\nvar colorScheme = Scheme.getSchemeType();\nfunction asBaseComponent(WrappedComponent) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var BaseComponent = function (_UIComponent) {\n    _inherits(BaseComponent, _UIComponent);\n    function BaseComponent() {\n      var _this;\n      _classCallCheck(this, BaseComponent);\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      _this = _callSuper(this, BaseComponent, [].concat(args));\n      _this.state = {\n        error: false,\n        colorScheme: colorScheme\n      };\n      _this.appearanceListener = function (colorScheme) {\n        if (_this.state.colorScheme !== colorScheme) {\n          _this.setState({\n            colorScheme: colorScheme\n          });\n        }\n      };\n      return _this;\n    }\n    _createClass(BaseComponent, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        Scheme.addChangeListener(this.appearanceListener);\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        Scheme.removeChangeListener(this.appearanceListener);\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _UIComponent$defaultP;\n        var themeProps = options.ignoreTheme ? this.props : BaseComponent.getThemeProps(this.props, this.context);\n        var modifiers = options.ignoreModifiers ? EMPTY_MODIFIERS : Modifiers.generateModifiersStyle(options.modifiersOptions, themeProps);\n        var forwardedRef = themeProps.forwardedRef,\n          others = _objectWithoutProperties(themeProps, _excluded);\n        return this.state.error && ((_UIComponent$defaultP = UIComponent.defaultProps) == null ? void 0 : _UIComponent$defaultP.renderError) || _jsx(WrappedComponent, _objectSpread(_objectSpread({}, others), {}, {\n          modifiers: modifiers,\n          ref: forwardedRef\n        }));\n      }\n    }], [{\n      key: \"getDerivedStateFromError\",\n      value: function getDerivedStateFromError(error) {\n        var _UIComponent$defaultP2;\n        (_UIComponent$defaultP2 = UIComponent.defaultProps) == null ? void 0 : _UIComponent$defaultP2.onError == null ? void 0 : _UIComponent$defaultP2.onError(error, WrappedComponent.defaultProps);\n        return {\n          error: true\n        };\n      }\n    }]);\n    return BaseComponent;\n  }(UIComponent);\n  BaseComponent.getThemeProps = function (props, context) {\n    return Modifiers.getThemeProps.call(WrappedComponent, props, context);\n  };\n  hoistStatics(BaseComponent, WrappedComponent);\n  BaseComponent.displayName = WrappedComponent.displayName;\n  BaseComponent.propTypes = WrappedComponent.propTypes;\n  BaseComponent.defaultProps = WrappedComponent.defaultProps;\n  var ThemeContext = ThemeManager.getThemeContext();\n  if (ThemeContext) {\n    BaseComponent.contextType = ThemeContext;\n  }\n  return forwardRef(BaseComponent);\n}\nexport default asBaseComponent;","map":{"version":3,"names":["React","hoistStatics","Modifiers","Scheme","ThemeManager","forwardRef","UIComponent","jsx","_jsx","EMPTY_MODIFIERS","colorScheme","getSchemeType","asBaseComponent","WrappedComponent","options","arguments","length","undefined","BaseComponent","_UIComponent","_inherits","_this","_classCallCheck","_len","args","Array","_key","_callSuper","concat","state","error","appearanceListener","setState","_createClass","key","value","componentDidMount","addChangeListener","componentWillUnmount","removeChangeListener","render","_UIComponent$defaultP","themeProps","ignoreTheme","props","getThemeProps","context","modifiers","ignoreModifiers","generateModifiersStyle","modifiersOptions","forwardedRef","others","_objectWithoutProperties","_excluded","defaultProps","renderError","_objectSpread","ref","getDerivedStateFromError","_UIComponent$defaultP2","onError","call","displayName","propTypes","ThemeContext","getThemeContext","contextType"],"sources":["/Users/mac/Repositories/BlockmakerIT/02-building-manager-mvp-app/node_modules/react-native-ui-lib/src/commons/asBaseComponent.js"],"sourcesContent":["import React from 'react';\nimport hoistStatics from 'hoist-non-react-statics';\nimport * as Modifiers from \"./modifiers\";\nimport { Scheme, ThemeManager } from \"../style\";\nimport forwardRef from \"./forwardRef\";\nimport UIComponent from \"./UIComponent\";\nconst EMPTY_MODIFIERS = {};\nconst colorScheme = Scheme.getSchemeType();\nfunction asBaseComponent(WrappedComponent, options = {}) {\n  class BaseComponent extends UIComponent {\n    state = {\n      error: false,\n      colorScheme\n    };\n    componentDidMount() {\n      Scheme.addChangeListener(this.appearanceListener);\n    }\n    componentWillUnmount() {\n      Scheme.removeChangeListener(this.appearanceListener);\n    }\n    appearanceListener = colorScheme => {\n      // iOS 13 and above will trigger this call with the wrong colorScheme value. So just ignore returned colorScheme for now\n      // https://github.com/facebook/react-native/issues/28525\n      // this.setState({colorScheme: Appearance.getColorScheme()});\n      if (this.state.colorScheme !== colorScheme) {\n        this.setState({\n          colorScheme\n        });\n      }\n    };\n    static getThemeProps = (props, context) => {\n      return Modifiers.getThemeProps.call(WrappedComponent, props, context);\n    };\n    static getDerivedStateFromError(error) {\n      UIComponent.defaultProps?.onError?.(error, WrappedComponent.defaultProps);\n      return {\n        error: true\n      };\n    }\n    render() {\n      const themeProps = options.ignoreTheme ? this.props : BaseComponent.getThemeProps(this.props, this.context);\n      const modifiers = options.ignoreModifiers ? EMPTY_MODIFIERS : Modifiers.generateModifiersStyle(options.modifiersOptions, themeProps);\n      // TODO: omit original modifiers props (left, right, flex, etc..)\n      // Because they throws an error when being passed to RNView on Android\n      // @ts-expect-error\n      const {\n        forwardedRef,\n        ...others\n      } = themeProps;\n      return this.state.error && UIComponent.defaultProps?.renderError || <WrappedComponent {...others} modifiers={modifiers} ref={forwardedRef} />;\n    }\n  }\n\n  // Statics\n  hoistStatics(BaseComponent, WrappedComponent);\n  BaseComponent.displayName = WrappedComponent.displayName;\n  BaseComponent.propTypes = WrappedComponent.propTypes;\n  BaseComponent.defaultProps = WrappedComponent.defaultProps;\n  const ThemeContext = ThemeManager.getThemeContext();\n  if (ThemeContext) {\n    BaseComponent.contextType = ThemeContext;\n  }\n  return forwardRef(BaseComponent);\n}\nexport default asBaseComponent;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}