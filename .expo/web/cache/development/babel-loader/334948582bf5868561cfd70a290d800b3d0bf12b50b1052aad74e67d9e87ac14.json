{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { useState, useCallback } from 'react';\nimport { Constants } from \"../../commons/new\";\nvar DEFAULT_THRESHOLD = Constants.isAndroid ? 1 : 0;\nvar useScrollReached = function useScrollReached() {\n  var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _props$horizontal = props.horizontal,\n    horizontal = _props$horizontal === void 0 ? false : _props$horizontal,\n    _props$threshold = props.threshold,\n    threshold = _props$threshold === void 0 ? DEFAULT_THRESHOLD : _props$threshold;\n  var _useState = useState(true),\n    _useState2 = _slicedToArray(_useState, 2),\n    isScrollAtStart = _useState2[0],\n    setScrollAtStart = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    isScrollAtEnd = _useState4[0],\n    setScrollAtEnd = _useState4[1];\n  var onScroll = useCallback(function (event) {\n    var _event$nativeEvent = event.nativeEvent,\n      _event$nativeEvent$la = _event$nativeEvent.layoutMeasurement,\n      layoutWidth = _event$nativeEvent$la.width,\n      layoutHeight = _event$nativeEvent$la.height,\n      _event$nativeEvent$co = _event$nativeEvent.contentOffset,\n      offsetX = _event$nativeEvent$co.x,\n      offsetY = _event$nativeEvent$co.y,\n      _event$nativeEvent$co2 = _event$nativeEvent.contentSize,\n      contentWidth = _event$nativeEvent$co2.width,\n      contentHeight = _event$nativeEvent$co2.height;\n    var layoutSize = horizontal ? layoutWidth : layoutHeight;\n    var offset = horizontal ? offsetX : offsetY;\n    var contentSize = horizontal ? contentWidth : contentHeight;\n    if (horizontal && Constants.isRTL && Constants.isAndroid) {\n      var scrollingWidth = Math.max(0, contentSize - layoutSize);\n      offset = scrollingWidth - offset;\n    }\n    var closeToStart = offset <= threshold;\n    if (closeToStart !== isScrollAtStart) {\n      setScrollAtStart(closeToStart);\n    }\n    var closeToEnd = layoutSize + offset >= contentSize - threshold;\n    if (closeToEnd !== isScrollAtEnd) {\n      setScrollAtEnd(closeToEnd);\n    }\n  }, [horizontal, threshold, isScrollAtStart, isScrollAtEnd]);\n  return {\n    onScroll: onScroll,\n    isScrollAtStart: isScrollAtStart,\n    isScrollAtEnd: isScrollAtEnd\n  };\n};\nexport default useScrollReached;","map":{"version":3,"names":["useState","useCallback","Constants","DEFAULT_THRESHOLD","isAndroid","useScrollReached","props","arguments","length","undefined","_props$horizontal","horizontal","_props$threshold","threshold","_useState","_useState2","_slicedToArray","isScrollAtStart","setScrollAtStart","_useState3","_useState4","isScrollAtEnd","setScrollAtEnd","onScroll","event","_event$nativeEvent","nativeEvent","_event$nativeEvent$la","layoutMeasurement","layoutWidth","width","layoutHeight","height","_event$nativeEvent$co","contentOffset","offsetX","x","offsetY","y","_event$nativeEvent$co2","contentSize","contentWidth","contentHeight","layoutSize","offset","isRTL","scrollingWidth","Math","max","closeToStart","closeToEnd"],"sources":["/Users/mac/Repositories/BlockmakerIT/02-building-manager-mvp-app/node_modules/react-native-ui-lib/src/hooks/useScrollReached/index.js"],"sourcesContent":["import { useState, useCallback } from 'react';\nimport { Constants } from \"../../commons/new\";\nconst DEFAULT_THRESHOLD = Constants.isAndroid ? 1 : 0;\nconst useScrollReached = (props = {}) => {\n  const {\n    horizontal = false,\n    threshold = DEFAULT_THRESHOLD\n  } = props;\n  const [isScrollAtStart, setScrollAtStart] = useState(true);\n  const [isScrollAtEnd, setScrollAtEnd] = useState(false);\n  const onScroll = useCallback(event => {\n    const {\n      nativeEvent: {\n        layoutMeasurement: {\n          width: layoutWidth,\n          height: layoutHeight\n        },\n        contentOffset: {\n          x: offsetX,\n          y: offsetY\n        },\n        contentSize: {\n          width: contentWidth,\n          height: contentHeight\n        }\n      }\n    } = event;\n    const layoutSize = horizontal ? layoutWidth : layoutHeight;\n    let offset = horizontal ? offsetX : offsetY;\n    const contentSize = horizontal ? contentWidth : contentHeight;\n    if (horizontal && Constants.isRTL && Constants.isAndroid) {\n      const scrollingWidth = Math.max(0, contentSize - layoutSize);\n      offset = scrollingWidth - offset;\n    }\n    const closeToStart = offset <= threshold;\n    if (closeToStart !== isScrollAtStart) {\n      setScrollAtStart(closeToStart);\n    }\n    const closeToEnd = layoutSize + offset >= contentSize - threshold;\n    if (closeToEnd !== isScrollAtEnd) {\n      setScrollAtEnd(closeToEnd);\n    }\n  }, [horizontal, threshold, isScrollAtStart, isScrollAtEnd]);\n  return {\n    onScroll,\n    isScrollAtStart,\n    isScrollAtEnd\n  };\n};\nexport default useScrollReached;"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,WAAW,QAAQ,OAAO;AAC7C,SAASC,SAAS;AAClB,IAAMC,iBAAiB,GAAGD,SAAS,CAACE,SAAS,GAAG,CAAC,GAAG,CAAC;AACrD,IAAMC,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAA,EAAmB;EAAA,IAAfC,KAAK,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC,CAAC;EAClC,IAAAG,iBAAA,GAGIJ,KAAK,CAFPK,UAAU;IAAVA,UAAU,GAAAD,iBAAA,cAAG,KAAK,GAAAA,iBAAA;IAAAE,gBAAA,GAEhBN,KAAK,CADPO,SAAS;IAATA,SAAS,GAAAD,gBAAA,cAAGT,iBAAiB,GAAAS,gBAAA;EAE/B,IAAAE,SAAA,GAA4Cd,QAAQ,CAAC,IAAI,CAAC;IAAAe,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAAnDG,eAAe,GAAAF,UAAA;IAAEG,gBAAgB,GAAAH,UAAA;EACxC,IAAAI,UAAA,GAAwCnB,QAAQ,CAAC,KAAK,CAAC;IAAAoB,UAAA,GAAAJ,cAAA,CAAAG,UAAA;IAAhDE,aAAa,GAAAD,UAAA;IAAEE,cAAc,GAAAF,UAAA;EACpC,IAAMG,QAAQ,GAAGtB,WAAW,CAAC,UAAAuB,KAAK,EAAI;IACpC,IAAAC,kBAAA,GAeID,KAAK,CAdPE,WAAW;MAAAC,qBAAA,GAAAF,kBAAA,CACTG,iBAAiB;MACRC,WAAW,GAAAF,qBAAA,CAAlBG,KAAK;MACGC,YAAY,GAAAJ,qBAAA,CAApBK,MAAM;MAAAC,qBAAA,GAAAR,kBAAA,CAERS,aAAa;MACRC,OAAO,GAAAF,qBAAA,CAAVG,CAAC;MACEC,OAAO,GAAAJ,qBAAA,CAAVK,CAAC;MAAAC,sBAAA,GAAAd,kBAAA,CAEHe,WAAW;MACFC,YAAY,GAAAF,sBAAA,CAAnBT,KAAK;MACGY,aAAa,GAAAH,sBAAA,CAArBP,MAAM;IAIZ,IAAMW,UAAU,GAAGhC,UAAU,GAAGkB,WAAW,GAAGE,YAAY;IAC1D,IAAIa,MAAM,GAAGjC,UAAU,GAAGwB,OAAO,GAAGE,OAAO;IAC3C,IAAMG,WAAW,GAAG7B,UAAU,GAAG8B,YAAY,GAAGC,aAAa;IAC7D,IAAI/B,UAAU,IAAIT,SAAS,CAAC2C,KAAK,IAAI3C,SAAS,CAACE,SAAS,EAAE;MACxD,IAAM0C,cAAc,GAAGC,IAAI,CAACC,GAAG,CAAC,CAAC,EAAER,WAAW,GAAGG,UAAU,CAAC;MAC5DC,MAAM,GAAGE,cAAc,GAAGF,MAAM;IAClC;IACA,IAAMK,YAAY,GAAGL,MAAM,IAAI/B,SAAS;IACxC,IAAIoC,YAAY,KAAKhC,eAAe,EAAE;MACpCC,gBAAgB,CAAC+B,YAAY,CAAC;IAChC;IACA,IAAMC,UAAU,GAAGP,UAAU,GAAGC,MAAM,IAAIJ,WAAW,GAAG3B,SAAS;IACjE,IAAIqC,UAAU,KAAK7B,aAAa,EAAE;MAChCC,cAAc,CAAC4B,UAAU,CAAC;IAC5B;EACF,CAAC,EAAE,CAACvC,UAAU,EAAEE,SAAS,EAAEI,eAAe,EAAEI,aAAa,CAAC,CAAC;EAC3D,OAAO;IACLE,QAAQ,EAARA,QAAQ;IACRN,eAAe,EAAfA,eAAe;IACfI,aAAa,EAAbA;EACF,CAAC;AACH,CAAC;AACD,eAAehB,gBAAgB"},"metadata":{},"sourceType":"module","externalDependencies":[]}