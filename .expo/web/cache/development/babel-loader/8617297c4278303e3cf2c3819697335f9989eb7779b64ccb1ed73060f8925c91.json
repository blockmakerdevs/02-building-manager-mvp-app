{"ast":null,"code":"import _createClass from \"@babel/runtime/helpers/createClass\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nvar _class;\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport _intersection from \"lodash/intersection\";\nimport _isFunction from \"lodash/isFunction\";\nimport AppRegistry from \"react-native-web/dist/exports/AppRegistry\";\nimport EventEmitterManager from \"./utils/EventEmitterManager\";\nvar getKeyboardsWithIDs = function getKeyboardsWithIDs(keyboardIDs) {\n  return keyboardIDs.map(function (keyboardId) {\n    return _objectSpread({\n      id: keyboardId\n    }, KeyboardRegistry.registeredKeyboards[keyboardId].params);\n  });\n};\nvar KeyboardRegistry = _createClass(function KeyboardRegistry() {\n  _classCallCheck(this, KeyboardRegistry);\n});\n_class = KeyboardRegistry;\nKeyboardRegistry.displayName = 'KeyboardRegistry';\nKeyboardRegistry.registeredKeyboards = {};\nKeyboardRegistry.eventEmitter = new EventEmitterManager();\nKeyboardRegistry.registerKeyboard = function (componentID, generator) {\n  var params = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  if (!_isFunction(generator)) {\n    console.error(`KeyboardRegistry.registerKeyboard: ${componentID} you must register a generator function`);\n    return;\n  }\n  _class.registeredKeyboards[componentID] = {\n    generator: generator,\n    params: params,\n    componentID: componentID\n  };\n  AppRegistry.registerComponent(componentID, generator);\n};\nKeyboardRegistry.getKeyboard = function (componentID) {\n  var res = _class.registeredKeyboards[componentID];\n  if (!res || !res.generator) {\n    console.error(`KeyboardRegistry.getKeyboard: ${componentID} used but not yet registered`);\n    return undefined;\n  }\n  return res.generator();\n};\nKeyboardRegistry.getKeyboards = function () {\n  var componentIDs = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var validKeyboardIDs = _intersection(componentIDs, Object.keys(_class.registeredKeyboards));\n  return getKeyboardsWithIDs(validKeyboardIDs);\n};\nKeyboardRegistry.getAllKeyboards = function () {\n  return getKeyboardsWithIDs(Object.keys(_class.registeredKeyboards));\n};\nKeyboardRegistry.addListener = function (globalID, callback) {\n  _class.eventEmitter.listenOn(globalID, callback);\n};\nKeyboardRegistry.notifyListeners = function (globalID, args) {\n  _class.eventEmitter.emitEvent(globalID, args);\n};\nKeyboardRegistry.removeListeners = function (globalID) {\n  _class.eventEmitter.removeListeners(globalID);\n};\nKeyboardRegistry.onItemSelected = function (componentID, args) {\n  _class.notifyListeners(`${componentID}.onItemSelected`, args);\n};\nKeyboardRegistry.requestShowKeyboard = function (componentID) {\n  _class.notifyListeners('onRequestShowKeyboard', {\n    keyboardId: componentID\n  });\n};\nKeyboardRegistry.toggleExpandedKeyboard = function (componentID) {\n  _class.notifyListeners('onToggleExpandedKeyboard', {\n    keyboardId: componentID\n  });\n};\nexport { KeyboardRegistry as default };","map":{"version":3,"names":["_intersection","_isFunction","AppRegistry","EventEmitterManager","getKeyboardsWithIDs","keyboardIDs","map","keyboardId","_objectSpread","id","KeyboardRegistry","registeredKeyboards","params","_createClass","_classCallCheck","_class","displayName","eventEmitter","registerKeyboard","componentID","generator","arguments","length","undefined","console","error","registerComponent","getKeyboard","res","getKeyboards","componentIDs","validKeyboardIDs","Object","keys","getAllKeyboards","addListener","globalID","callback","listenOn","notifyListeners","args","emitEvent","removeListeners","onItemSelected","requestShowKeyboard","toggleExpandedKeyboard","default"],"sources":["/Users/mac/Repositories/BlockmakerIT/02-building-manager-mvp-app/node_modules/react-native-ui-lib/lib/components/Keyboard/KeyboardInput/KeyboardRegistry.js"],"sourcesContent":["import _intersection from \"lodash/intersection\";\nimport _isFunction from \"lodash/isFunction\";\nimport { AppRegistry } from 'react-native';\nimport EventEmitterManager from \"./utils/EventEmitterManager\";\n\n/*\n * Tech debt: how to deal with multiple registries in the app?\n */\n\nconst getKeyboardsWithIDs = keyboardIDs => {\n  return keyboardIDs.map(keyboardId => {\n    return {\n      id: keyboardId,\n      ...KeyboardRegistry.registeredKeyboards[keyboardId].params\n    };\n  });\n};\n\n/**\n * @description: used for registering keyboards and performing certain actions on the keyboards.\n * @example: https://github.com/wix/react-native-ui-lib/blob/master/demo/src/screens/nativeComponentScreens/keyboardAccessory/demoKeyboards.js\n */\nexport default class KeyboardRegistry {\n  static displayName = 'KeyboardRegistry';\n  static registeredKeyboards = {};\n  static eventEmitter = new EventEmitterManager();\n\n  /**\n   * Register a new keyboard.\n   * componentID (string) - the ID of the keyboard.\n   * generator (function) - a function for the creation of the keyboard.\n   * params (object) - to be returned when using other methods (i.e. getKeyboards and getAllKeyboards).\n   */\n  static registerKeyboard = (componentID, generator, params = {}) => {\n    if (!_isFunction(generator)) {\n      console.error(`KeyboardRegistry.registerKeyboard: ${componentID} you must register a generator function`);\n      return;\n    }\n    KeyboardRegistry.registeredKeyboards[componentID] = {\n      generator,\n      params,\n      componentID\n    };\n    AppRegistry.registerComponent(componentID, generator);\n  };\n\n  /**\n   * Get a specific keyboard\n   * componentID (string) - the ID of the keyboard.\n   */\n  static getKeyboard = componentID => {\n    const res = KeyboardRegistry.registeredKeyboards[componentID];\n    if (!res || !res.generator) {\n      console.error(`KeyboardRegistry.getKeyboard: ${componentID} used but not yet registered`);\n      return undefined;\n    }\n    return res.generator();\n  };\n\n  /**\n   * Get keyboards by IDs\n   * componentIDs (string[]) - the ID of the keyboard.\n   */\n  static getKeyboards = (componentIDs = []) => {\n    const validKeyboardIDs = _intersection(componentIDs, Object.keys(KeyboardRegistry.registeredKeyboards));\n    return getKeyboardsWithIDs(validKeyboardIDs);\n  };\n\n  /**\n   * Get all keyboards\n   */\n  static getAllKeyboards = () => {\n    return getKeyboardsWithIDs(Object.keys(KeyboardRegistry.registeredKeyboards));\n  };\n\n  /**\n   * Add a listener for a callback.\n   * globalID (string) - ID that includes the componentID and the event name\n   *                     (i.e. if componentID='kb1' globalID='kb1.onItemSelected')\n   * callback (function) - the callback to be called when the said event happens\n   */\n  static addListener = (globalID, callback) => {\n    KeyboardRegistry.eventEmitter.listenOn(globalID, callback);\n  };\n\n  /**\n   * Notify that an event has occurred.\n   * globalID (string) - ID that includes the componentID and the event name\n   *                     (i.e. if componentID='kb1' globalID='kb1.onItemSelected')\n   * args (object) - data to be sent to the listener.\n   */\n  static notifyListeners = (globalID, args) => {\n    KeyboardRegistry.eventEmitter.emitEvent(globalID, args);\n  };\n\n  /**\n   * Remove a listener for a callback.\n   * globalID (string) - ID that includes the componentID and the event name\n   *                     (i.e. if componentID='kb1' globalID='kb1.onItemSelected')\n   */\n  static removeListeners = globalID => {\n    KeyboardRegistry.eventEmitter.removeListeners(globalID);\n  };\n\n  /**\n   * Default event to be used for when an item on the keyboard has been pressed.\n   * componentID (string) - the ID of the keyboard.\n   * args (object) - data to be sent to the listener.\n   */\n  static onItemSelected = (componentID, args) => {\n    KeyboardRegistry.notifyListeners(`${componentID}.onItemSelected`, args);\n  };\n\n  /**\n   * Request to show the keyboard\n   * componentID (string) - the ID of the keyboard.\n   */\n  static requestShowKeyboard = componentID => {\n    KeyboardRegistry.notifyListeners('onRequestShowKeyboard', {\n      keyboardId: componentID\n    });\n  };\n\n  /**\n   * @deprecated\n   * iOS only (experimental)\n   * Call to make the keyboard full screen\n   * componentID (string) - the ID of the keyboard.\n   */\n  static toggleExpandedKeyboard = componentID => {\n    KeyboardRegistry.notifyListeners('onToggleExpandedKeyboard', {\n      keyboardId: componentID\n    });\n  };\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}