{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _filter from \"lodash/filter\";\nimport _isEmpty from \"lodash/isEmpty\";\nimport { useCallback, useState, useMemo } from 'react';\nimport { getItemLabel as getItemLabelPresenter, shouldFilterOut } from \"../PickerPresenter\";\nvar usePickerSearch = function usePickerSearch(props) {\n  var showSearch = props.showSearch,\n    onSearchChange = props.onSearchChange,\n    children = props.children,\n    getItemLabel = props.getItemLabel;\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    searchValue = _useState2[0],\n    setSearchValue = _useState2[1];\n  var filteredChildren = useMemo(function () {\n    if (showSearch && !_isEmpty(searchValue)) {\n      return _filter(children, function (child) {\n        var _child$props = child.props,\n          label = _child$props.label,\n          value = _child$props.value,\n          childGetItemLabel = _child$props.getItemLabel;\n        var itemLabel = getItemLabelPresenter(label, value, childGetItemLabel || getItemLabel);\n        return !shouldFilterOut(searchValue, itemLabel);\n      });\n    }\n    return children;\n  }, [showSearch, searchValue, children]);\n  var _onSearchChange = useCallback(function (searchValue) {\n    setSearchValue(searchValue);\n    onSearchChange == null ? void 0 : onSearchChange(searchValue, filteredChildren);\n  }, [onSearchChange, filteredChildren]);\n  return {\n    setSearchValue: setSearchValue,\n    onSearchChange: _onSearchChange,\n    filteredChildren: filteredChildren\n  };\n};\nexport default usePickerSearch;","map":{"version":3,"names":["_filter","_isEmpty","useCallback","useState","useMemo","getItemLabel","getItemLabelPresenter","shouldFilterOut","usePickerSearch","props","showSearch","onSearchChange","children","_useState","_useState2","_slicedToArray","searchValue","setSearchValue","filteredChildren","child","_child$props","label","value","childGetItemLabel","itemLabel","_onSearchChange"],"sources":["/Users/mac/Repositories/BlockmakerIT/02-building-manager-mvp-app/node_modules/react-native-ui-lib/src/components/picker/helpers/usePickerSearch.js"],"sourcesContent":["import _filter from \"lodash/filter\";\nimport _isEmpty from \"lodash/isEmpty\";\nimport { useCallback, useState, useMemo } from 'react';\nimport { getItemLabel as getItemLabelPresenter, shouldFilterOut } from \"../PickerPresenter\";\nconst usePickerSearch = props => {\n  const {\n    showSearch,\n    onSearchChange,\n    children,\n    getItemLabel\n  } = props;\n  const [searchValue, setSearchValue] = useState('');\n  const filteredChildren = useMemo(() => {\n    if (showSearch && !_isEmpty(searchValue)) {\n      // @ts-expect-error need to fix children type\n      return _filter(children, child => {\n        // @ts-expect-error need to fix children type to be based on PickerItemProps\n        const {\n          label,\n          value,\n          getItemLabel: childGetItemLabel\n        } = child.props;\n        const itemLabel = getItemLabelPresenter(label, value, childGetItemLabel || getItemLabel);\n        return !shouldFilterOut(searchValue, itemLabel);\n      });\n    }\n    return children;\n  }, [showSearch, searchValue, children]);\n  const _onSearchChange = useCallback(searchValue => {\n    setSearchValue(searchValue);\n    onSearchChange?.(searchValue, filteredChildren);\n  }, [onSearchChange, filteredChildren]);\n  return {\n    setSearchValue,\n    onSearchChange: _onSearchChange,\n    filteredChildren\n  };\n};\nexport default usePickerSearch;"],"mappings":";AAAA,OAAOA,OAAO,MAAM,eAAe;AACnC,OAAOC,QAAQ,MAAM,gBAAgB;AACrC,SAASC,WAAW,EAAEC,QAAQ,EAAEC,OAAO,QAAQ,OAAO;AACtD,SAASC,YAAY,IAAIC,qBAAqB,EAAEC,eAAe;AAC/D,IAAMC,eAAe,GAAG,SAAlBA,eAAeA,CAAGC,KAAK,EAAI;EAC/B,IACEC,UAAU,GAIRD,KAAK,CAJPC,UAAU;IACVC,cAAc,GAGZF,KAAK,CAHPE,cAAc;IACdC,QAAQ,GAENH,KAAK,CAFPG,QAAQ;IACRP,YAAY,GACVI,KAAK,CADPJ,YAAY;EAEd,IAAAQ,SAAA,GAAsCV,QAAQ,CAAC,EAAE,CAAC;IAAAW,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAA3CG,WAAW,GAAAF,UAAA;IAAEG,cAAc,GAAAH,UAAA;EAClC,IAAMI,gBAAgB,GAAGd,OAAO,CAAC,YAAM;IACrC,IAAIM,UAAU,IAAI,CAACT,QAAQ,CAACe,WAAW,CAAC,EAAE;MAExC,OAAOhB,OAAO,CAACY,QAAQ,EAAE,UAAAO,KAAK,EAAI;QAEhC,IAAAC,YAAA,GAIID,KAAK,CAACV,KAAK;UAHbY,KAAK,GAAAD,YAAA,CAALC,KAAK;UACLC,KAAK,GAAAF,YAAA,CAALE,KAAK;UACSC,iBAAiB,GAAAH,YAAA,CAA/Bf,YAAY;QAEd,IAAMmB,SAAS,GAAGlB,qBAAqB,CAACe,KAAK,EAAEC,KAAK,EAAEC,iBAAiB,IAAIlB,YAAY,CAAC;QACxF,OAAO,CAACE,eAAe,CAACS,WAAW,EAAEQ,SAAS,CAAC;MACjD,CAAC,CAAC;IACJ;IACA,OAAOZ,QAAQ;EACjB,CAAC,EAAE,CAACF,UAAU,EAAEM,WAAW,EAAEJ,QAAQ,CAAC,CAAC;EACvC,IAAMa,eAAe,GAAGvB,WAAW,CAAC,UAAAc,WAAW,EAAI;IACjDC,cAAc,CAACD,WAAW,CAAC;IAC3BL,cAAc,oBAAdA,cAAc,CAAGK,WAAW,EAAEE,gBAAgB,CAAC;EACjD,CAAC,EAAE,CAACP,cAAc,EAAEO,gBAAgB,CAAC,CAAC;EACtC,OAAO;IACLD,cAAc,EAAdA,cAAc;IACdN,cAAc,EAAEc,eAAe;IAC/BP,gBAAgB,EAAhBA;EACF,CAAC;AACH,CAAC;AACD,eAAeV,eAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}