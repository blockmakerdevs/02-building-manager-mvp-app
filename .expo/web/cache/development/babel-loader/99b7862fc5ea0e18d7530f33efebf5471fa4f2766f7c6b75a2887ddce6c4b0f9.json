{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nvar _excluded = [\"testID\", \"index\", \"lazy\", \"renderLoading\", \"lazyLoadTime\"];\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport React, { useCallback, useContext, useState, useMemo } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Reanimated, { useAnimatedStyle, useAnimatedReaction, runOnJS } from 'react-native-reanimated';\nimport TabBarContext from \"./TabBarContext\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar _worklet_13110433178489_init_data = {\n  code: \"function anonymous(){const{currentPage}=this.__closure;return currentPage.value;}\",\n  location: \"/Users/mac/Repositories/BlockmakerIT/02-building-manager-mvp-app/node_modules/react-native-ui-lib/src/components/tabController/TabPage.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"anonymous\\\",\\\"currentPage\\\",\\\"__closure\\\",\\\"value\\\"],\\\"sources\\\":[\\\"/Users/mac/Repositories/BlockmakerIT/02-building-manager-mvp-app/node_modules/react-native-ui-lib/src/components/tabController/TabPage.js\\\"],\\\"mappings\\\":\\\"AAgCsB,SAAAA,SAAMA,CAAA,QAAAC,WAAA,OAAAC,SAAA,CACxB,MAAO,CAAAD,WAAW,CAACE,KAAK,CAC1B\\\"}\",\n  version: \"3.6.1\"\n};\nvar _worklet_10211316676032_init_data = {\n  code: \"function anonymous(currentPage){const{index,runOnJS,lazyLoad}=this.__closure;const isActive=currentPage===index;if(isActive){runOnJS(lazyLoad)();}}\",\n  location: \"/Users/mac/Repositories/BlockmakerIT/02-building-manager-mvp-app/node_modules/react-native-ui-lib/src/components/tabController/TabPage.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"anonymous\\\",\\\"currentPage\\\",\\\"index\\\",\\\"runOnJS\\\",\\\"lazyLoad\\\",\\\"__closure\\\",\\\"isActive\\\"],\\\"sources\\\":[\\\"/Users/mac/Repositories/BlockmakerIT/02-building-manager-mvp-app/node_modules/react-native-ui-lib/src/components/tabController/TabPage.js\\\"],\\\"mappings\\\":\\\"AAkCK,QAAC,CAAAA,UAAAC,WAAY,CAAyB,OAAAC,KAAA,CAAAC,OAAA,CAAAC,QAAA,OAAAC,SAAA,CACvC,KAAM,CAAAC,QAAQ,CAAGL,WAAW,GAAKC,KAAK,CAMtC,GAAII,QAAQ,CAAE,CACZH,OAAO,CAACC,QAAQ,CAAC,CAAC,CAAC,CACrB,CAOF\\\"}\",\n  version: \"3.6.1\"\n};\nvar _worklet_13348148149721_init_data = {\n  code: \"function anonymous(){const{currentPage,index,asCarousel}=this.__closure;const isActive=Math.round(currentPage.value)===index;return{opacity:isActive||asCarousel?1:0,zIndex:isActive||asCarousel?1:0};}\",\n  location: \"/Users/mac/Repositories/BlockmakerIT/02-building-manager-mvp-app/node_modules/react-native-ui-lib/src/components/tabController/TabPage.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"anonymous\\\",\\\"currentPage\\\",\\\"index\\\",\\\"asCarousel\\\",\\\"__closure\\\",\\\"isActive\\\",\\\"Math\\\",\\\"round\\\",\\\"value\\\",\\\"opacity\\\",\\\"zIndex\\\"],\\\"sources\\\":[\\\"/Users/mac/Repositories/BlockmakerIT/02-building-manager-mvp-app/node_modules/react-native-ui-lib/src/components/tabController/TabPage.js\\\"],\\\"mappings\\\":\\\"AAmD6C,SAAAA,SAAMA,CAAA,QAAAC,WAAA,CAAAC,KAAA,CAAAC,UAAA,OAAAC,SAAA,CAC/C,KAAM,CAAAC,QAAQ,CAAGC,IAAI,CAACC,KAAK,CAACN,WAAW,CAACO,KAAK,CAAC,GAAKN,KAAK,CACxD,MAAO,CACLO,OAAO,CAAEJ,QAAQ,EAAIF,UAAU,CAAG,CAAC,CAAG,CAAC,CACvCO,MAAM,CAAEL,QAAQ,EAAIF,UAAU,CAAG,CAAC,CAAG,CACvC,CAAC,CACH\\\"}\",\n  version: \"3.6.1\"\n};\nexport default function TabPage(_ref) {\n  var testID = _ref.testID,\n    index = _ref.index,\n    lazy = _ref.lazy,\n    renderLoading = _ref.renderLoading,\n    _ref$lazyLoadTime = _ref.lazyLoadTime,\n    lazyLoadTime = _ref$lazyLoadTime === void 0 ? 100 : _ref$lazyLoadTime,\n    props = _objectWithoutProperties(_ref, _excluded);\n  var _useContext = useContext(TabBarContext),\n    currentPage = _useContext.currentPage,\n    asCarousel = _useContext.asCarousel,\n    containerWidth = _useContext.containerWidth;\n  var _useState = useState(!lazy),\n    _useState2 = _slicedToArray(_useState, 2),\n    shouldLoad = _useState2[0],\n    setLoaded = _useState2[1];\n  var lazyLoad = useCallback(function () {\n    if (lazy && !shouldLoad) {\n      setTimeout(function () {\n        setLoaded(true);\n      }, lazyLoadTime);\n    }\n  }, [lazy, shouldLoad]);\n  useAnimatedReaction(function () {\n    var _e = [new global.Error(), -2, -27];\n    var anonymous = function anonymous() {\n      return currentPage.value;\n    };\n    anonymous.__closure = {\n      currentPage: currentPage\n    };\n    anonymous.__workletHash = 13110433178489;\n    anonymous.__initData = _worklet_13110433178489_init_data;\n    anonymous.__stackDetails = _e;\n    return anonymous;\n  }(), function () {\n    var _e = [new global.Error(), -4, -27];\n    var anonymous = function anonymous(currentPage) {\n      var isActive = currentPage === index;\n      if (isActive) {\n        runOnJS(lazyLoad)();\n      }\n    };\n    anonymous.__closure = {\n      index: index,\n      runOnJS: runOnJS,\n      lazyLoad: lazyLoad\n    };\n    anonymous.__workletHash = 10211316676032;\n    anonymous.__initData = _worklet_10211316676032_init_data;\n    anonymous.__stackDetails = _e;\n    return anonymous;\n  }(), [currentPage, lazyLoad]);\n  var animatedPageStyle = useAnimatedStyle(function () {\n    var _e = [new global.Error(), -4, -27];\n    var anonymous = function anonymous() {\n      var isActive = Math.round(currentPage.value) === index;\n      return {\n        opacity: isActive || asCarousel ? 1 : 0,\n        zIndex: isActive || asCarousel ? 1 : 0\n      };\n    };\n    anonymous.__closure = {\n      currentPage: currentPage,\n      index: index,\n      asCarousel: asCarousel\n    };\n    anonymous.__workletHash = 13348148149721;\n    anonymous.__initData = _worklet_13348148149721_init_data;\n    anonymous.__stackDetails = _e;\n    return anonymous;\n  }());\n  var style = useMemo(function () {\n    return [!asCarousel && styles.page, animatedPageStyle, {\n      width: asCarousel ? containerWidth : undefined\n    }];\n  }, [asCarousel, animatedPageStyle, containerWidth]);\n  return _jsxs(Reanimated.View, {\n    style: style,\n    testID: testID,\n    children: [!shouldLoad && (renderLoading == null ? void 0 : renderLoading()), shouldLoad && props.children]\n  });\n}\nvar styles = StyleSheet.create({\n  page: _objectSpread({}, StyleSheet.absoluteFillObject)\n});","map":{"version":3,"names":["React","useCallback","useContext","useState","useMemo","StyleSheet","Reanimated","useAnimatedStyle","useAnimatedReaction","runOnJS","TabBarContext","jsxs","_jsxs","_worklet_13110433178489_init_data","code","location","sourceMap","version","_worklet_10211316676032_init_data","_worklet_13348148149721_init_data","TabPage","_ref","testID","index","lazy","renderLoading","_ref$lazyLoadTime","lazyLoadTime","props","_objectWithoutProperties","_excluded","_useContext","currentPage","asCarousel","containerWidth","_useState","_useState2","_slicedToArray","shouldLoad","setLoaded","lazyLoad","setTimeout","_e","global","Error","anonymous","value","__closure","__workletHash","__initData","__stackDetails","isActive","animatedPageStyle","Math","round","opacity","zIndex","style","styles","page","width","undefined","View","children","create","_objectSpread","absoluteFillObject"],"sources":["/Users/mac/Repositories/BlockmakerIT/02-building-manager-mvp-app/node_modules/react-native-ui-lib/src/components/tabController/TabPage.js"],"sourcesContent":["import React, { useCallback, useContext, useState, useMemo } from 'react';\nimport { StyleSheet } from 'react-native';\nimport Reanimated, { useAnimatedStyle, useAnimatedReaction, runOnJS } from 'react-native-reanimated';\n// import {Freeze} from 'react-freeze';\nimport TabBarContext from \"./TabBarContext\";\n/**\n * @description: TabController's TabPage\n * @example: https://github.com/wix/react-native-ui-lib/blob/master/demo/src/screens/componentScreens/TabControllerScreen/index.tsx\n */\nexport default function TabPage({\n  testID,\n  index,\n  lazy,\n  renderLoading,\n  lazyLoadTime = 100,\n  ...props\n}) {\n  const {\n    currentPage,\n    asCarousel,\n    containerWidth\n  } = useContext(TabBarContext);\n  const [shouldLoad, setLoaded] = useState(!lazy);\n  // const [focused, setFocused] = useState(false);\n\n  const lazyLoad = useCallback(() => {\n    if (lazy && !shouldLoad) {\n      setTimeout(() => {\n        setLoaded(true);\n      }, lazyLoadTime);\n    }\n  }, [lazy, shouldLoad]);\n  useAnimatedReaction(() => {\n    return currentPage.value;\n  }, (currentPage /* , previousPage */) => {\n    const isActive = currentPage === index;\n    // const wasActive = previousPage === index;\n    // const nearActive = asCarousel && (currentPage - 1 === index || currentPage + 1 === index);\n    // const wasNearActive =\n    //     asCarousel && previousPage !== null && (previousPage - 1 === index || previousPage + 1 === index);\n\n    if (isActive) {\n      runOnJS(lazyLoad)();\n    }\n\n    // if (isActive || nearActive) {\n    //   runOnJS(setFocused)(true);\n    // } else if (wasActive || wasNearActive) {\n    //   runOnJS(setFocused)(false);\n    // }\n  }, [currentPage, lazyLoad]);\n  const animatedPageStyle = useAnimatedStyle(() => {\n    const isActive = Math.round(currentPage.value) === index;\n    return {\n      opacity: isActive || asCarousel ? 1 : 0,\n      zIndex: isActive || asCarousel ? 1 : 0\n    };\n  });\n  const style = useMemo(() => {\n    return [!asCarousel && styles.page, animatedPageStyle, {\n      width: asCarousel ? containerWidth : undefined\n    }];\n  }, [asCarousel, animatedPageStyle, containerWidth]);\n  return <Reanimated.View style={style} testID={testID}>\n      {!shouldLoad && renderLoading?.()}\n      {shouldLoad && props.children}\n      {/* <Freeze freeze={!shouldLoad || !focused}>{props.children}</Freeze> */}\n    </Reanimated.View>;\n}\nconst styles = StyleSheet.create({\n  page: {\n    ...StyleSheet.absoluteFillObject\n  }\n});"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}