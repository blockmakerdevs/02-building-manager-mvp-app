{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useCallback, useMemo, useRef, useState } from 'react';\nimport { useSharedValue, useAnimatedReaction, runOnJS } from 'react-native-reanimated';\nimport { FlashListPackage } from \"../../optionalDependencies\";\nimport { Constants } from \"../../commons/new\";\nimport { generateMonthItems } from \"./helpers/CalendarProcessor\";\nimport { addHeaders } from \"./helpers/DataProcessor\";\nimport { isSameMonth, getDateObject } from \"./helpers/DateUtils\";\nimport { FirstDayOfWeek, UpdateSource } from \"./types\";\nimport CalendarContext from \"./CalendarContext\";\nimport CalendarItem from \"./CalendarItem\";\nimport Agenda from \"./Agenda\";\nimport TodayButton from \"./TodayButton\";\nimport Header from \"./Header\";\nimport { useDidUpdate } from \"../../hooks\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar FlashList = FlashListPackage == null ? void 0 : FlashListPackage.FlashList;\nvar VIEWABILITY_CONFIG = {\n  itemVisiblePercentThreshold: 95,\n  minimumViewTime: 200\n};\nvar YEARS_RANGE = 1;\nvar PAGE_RELOAD_THRESHOLD = 3;\nvar NOW = Date.now();\nvar _worklet_4297076751764_init_data = {\n  code: \"function anonymous(date){const{getDateObject,items}=this.__closure;const dateObject=getDateObject(date);for(let i=0;i<items.length;i++){if(items[i].month===dateObject.month&&items[i].year===dateObject.year){return i;}}return-1;}\",\n  location: \"/Users/mac/Repositories/BlockmakerIT/02-building-manager-mvp-app/node_modules/react-native-ui-lib/src/incubator/Calendar/index.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"anonymous\\\",\\\"date\\\",\\\"getDateObject\\\",\\\"items\\\",\\\"__closure\\\",\\\"dateObject\\\",\\\"i\\\",\\\"length\\\",\\\"month\\\",\\\"year\\\"],\\\"sources\\\":[\\\"/Users/mac/Repositories/BlockmakerIT/02-building-manager-mvp-app/node_modules/react-native-ui-lib/src/incubator/Calendar/index.js\\\"],\\\"mappings\\\":\\\"AAkCmC,SAAAA,SAAQA,CAAAC,IAAA,QAAAC,aAAA,CAAAC,KAAA,OAAAC,SAAA,CAGvC,KAAM,CAAAC,UAAU,CAAGH,aAAa,CAACD,IAAI,CAAC,CACtC,IAAK,GAAI,CAAAK,CAAC,CAAG,CAAC,CAAEA,CAAC,CAAGH,KAAK,CAACI,MAAM,CAAED,CAAC,EAAE,CAAE,CACrC,GAAIH,KAAK,CAACG,CAAC,CAAC,CAACE,KAAK,GAAKH,UAAU,CAACG,KAAK,EAAIL,KAAK,CAACG,CAAC,CAAC,CAACG,IAAI,GAAKJ,UAAU,CAACI,IAAI,CAAE,CAC5E,MAAO,CAAAH,CAAC,CACV,CACF,CACA,MAAO,CAAC,CAAC,CACX\\\"}\",\n  version: \"3.6.1\"\n};\nvar _worklet_2187713719908_init_data = {\n  code: \"function anonymous(index){const{PAGE_RELOAD_THRESHOLD,items}=this.__closure;return index!==-1&&(index<PAGE_RELOAD_THRESHOLD||index>items.length-PAGE_RELOAD_THRESHOLD);}\",\n  location: \"/Users/mac/Repositories/BlockmakerIT/02-building-manager-mvp-app/node_modules/react-native-ui-lib/src/incubator/Calendar/index.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"anonymous\\\",\\\"index\\\",\\\"PAGE_RELOAD_THRESHOLD\\\",\\\"items\\\",\\\"__closure\\\",\\\"length\\\"],\\\"sources\\\":[\\\"/Users/mac/Repositories/BlockmakerIT/02-building-manager-mvp-app/node_modules/react-native-ui-lib/src/incubator/Calendar/index.js\\\"],\\\"mappings\\\":\\\"AAyHqC,SAAAA,SAASA,CAAAC,KAAA,QAAAC,qBAAA,CAAAC,KAAA,OAAAC,SAAA,CAG1C,MAAO,CAAAH,KAAK,GAAK,CAAC,CAAC,GAAKA,KAAK,CAAGC,qBAAqB,EAAID,KAAK,CAAGE,KAAK,CAACE,MAAM,CAAGH,qBAAqB,CAAC,CAExG\\\"}\",\n  version: \"3.6.1\"\n};\nvar _worklet_6164687186009_init_data = {\n  code: \"function anonymous(){const{current}=this.__closure;return current.value;}\",\n  location: \"/Users/mac/Repositories/BlockmakerIT/02-building-manager-mvp-app/node_modules/react-native-ui-lib/src/incubator/Calendar/index.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"anonymous\\\",\\\"current\\\",\\\"__closure\\\",\\\"value\\\"],\\\"sources\\\":[\\\"/Users/mac/Repositories/BlockmakerIT/02-building-manager-mvp-app/node_modules/react-native-ui-lib/src/incubator/Calendar/index.js\\\"],\\\"mappings\\\":\\\"AA+HsB,SAAAA,SAAMA,CAAA,QAAAC,OAAA,OAAAC,SAAA,CACxB,MAAO,CAAAD,OAAO,CAACE,KAAK,CACtB\\\"}\",\n  version: \"3.6.1\"\n};\nvar _worklet_9095374586282_init_data = {\n  code: \"function anonymous(selected,previous){const{getItemIndex,shouldAddPages,items,runOnJS,addPages,lastUpdateSource,UpdateSource,isSameMonth,scrollToIndex}=this.__closure;const index=getItemIndex(selected);if(shouldAddPages(index)){console.log('Add new pages: ',index,items.length);runOnJS(addPages)();}else if(lastUpdateSource.value!==UpdateSource.MONTH_SCROLL){if(previous&&!isSameMonth(selected,previous)){runOnJS(scrollToIndex)(index);}}}\",\n  location: \"/Users/mac/Repositories/BlockmakerIT/02-building-manager-mvp-app/node_modules/react-native-ui-lib/src/incubator/Calendar/index.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"anonymous\\\",\\\"selected\\\",\\\"previous\\\",\\\"getItemIndex\\\",\\\"shouldAddPages\\\",\\\"items\\\",\\\"runOnJS\\\",\\\"addPages\\\",\\\"lastUpdateSource\\\",\\\"UpdateSource\\\",\\\"isSameMonth\\\",\\\"scrollToIndex\\\",\\\"__closure\\\",\\\"index\\\",\\\"console\\\",\\\"log\\\",\\\"length\\\",\\\"value\\\",\\\"MONTH_SCROLL\\\"],\\\"sources\\\":[\\\"/Users/mac/Repositories/BlockmakerIT/02-building-manager-mvp-app/node_modules/react-native-ui-lib/src/incubator/Calendar/index.js\\\"],\\\"mappings\\\":\\\"AAiIK,QAAC,CAAAA,UAAQC,QAAE,CAAQC,QAAK,QAAAC,YAAA,CAAAC,cAAA,CAAAC,KAAA,CAAAC,OAAA,CAAAC,QAAA,CAAAC,gBAAA,CAAAC,YAAA,CAAAC,WAAA,CAAAC,aAAA,OAAAC,SAAA,CACzB,KAAM,CAAAC,KAAK,CAAGV,YAAY,CAACF,QAAQ,CAAC,CACpC,GAAIG,cAAc,CAACS,KAAK,CAAC,CAAE,CACzBC,OAAO,CAACC,GAAG,CAAC,iBAAiB,CAAEF,KAAK,CAAER,KAAK,CAACW,MAAM,CAAC,CACnDV,OAAO,CAACC,QAAQ,CAAC,CAAE,CAAY,CACjC,CAAC,IAAM,IAAIC,gBAAgB,CAACS,KAAK,GAAKR,YAAY,CAACS,YAAY,CAAE,CAC/D,GAAIhB,QAAQ,EAAI,CAACQ,WAAW,CAACT,QAAQ,CAAEC,QAAQ,CAAC,CAAE,CAChDI,OAAO,CAACK,aAAa,CAAC,CAACE,KAAK,CAAC,CAC/B,CACF,CACF\\\"}\",\n  version: \"3.6.1\"\n};\nfunction Calendar(props) {\n  var data = props.data,\n    children = props.children,\n    _props$initialDate = props.initialDate,\n    initialDate = _props$initialDate === void 0 ? NOW : _props$initialDate,\n    onChangeDate = props.onChangeDate,\n    _props$firstDayOfWeek = props.firstDayOfWeek,\n    firstDayOfWeek = _props$firstDayOfWeek === void 0 ? FirstDayOfWeek.MONDAY : _props$firstDayOfWeek,\n    _props$staticHeader = props.staticHeader,\n    staticHeader = _props$staticHeader === void 0 ? false : _props$staticHeader,\n    _props$showExtraDays = props.showExtraDays,\n    showExtraDays = _props$showExtraDays === void 0 ? true : _props$showExtraDays;\n  var _useState = useState(function () {\n      return generateMonthItems(initialDate, YEARS_RANGE, YEARS_RANGE);\n    }),\n    _useState2 = _slicedToArray(_useState, 1),\n    items = _useState2[0];\n  var getItemIndex = useCallback(function () {\n    var _e = [new global.Error(), -3, -27];\n    var anonymous = function anonymous(date) {\n      var dateObject = getDateObject(date);\n      for (var i = 0; i < items.length; i++) {\n        if (items[i].month === dateObject.month && items[i].year === dateObject.year) {\n          return i;\n        }\n      }\n      return -1;\n    };\n    anonymous.__closure = {\n      getDateObject: getDateObject,\n      items: items\n    };\n    anonymous.__workletHash = 4297076751764;\n    anonymous.__initData = _worklet_4297076751764_init_data;\n    anonymous.__stackDetails = _e;\n    return anonymous;\n  }(), [items]);\n  var flashListRef = useRef();\n  var current = useSharedValue(initialDate);\n  var initialMonthIndex = useRef(getItemIndex(current.value));\n  var lastUpdateSource = useSharedValue(UpdateSource.INIT);\n  var processedData = useMemo(function () {\n    return addHeaders(data);\n  }, [data]);\n  var scrolledByUser = useSharedValue(false);\n  var headerHeight = useSharedValue(0);\n  var setDate = useCallback(function (date, updateSource) {\n    current.value = date;\n    lastUpdateSource.value = updateSource;\n    if (updateSource !== UpdateSource.PROP_UPDATE) {\n      onChangeDate == null ? void 0 : onChangeDate(date);\n    }\n  }, []);\n  var scrollToIndex = useCallback(function (index) {\n    var _flashListRef$current;\n    scrolledByUser.value = false;\n    (_flashListRef$current = flashListRef.current) == null ? void 0 : _flashListRef$current.scrollToIndex({\n      index: index,\n      animated: true\n    });\n  }, [getItemIndex]);\n  useDidUpdate(function () {\n    setDate(initialDate, UpdateSource.PROP_UPDATE);\n  }, [initialDate]);\n  useDidUpdate(function () {\n    console.log('Update items');\n    var index = getItemIndex(current.value);\n    scrollToIndex(index);\n  }, [items, getItemIndex]);\n  var setHeaderHeight = useCallback(function (height) {\n    headerHeight.value = height;\n  }, []);\n  var contextValue = useMemo(function () {\n    return {\n      data: processedData,\n      firstDayOfWeek: firstDayOfWeek,\n      selectedDate: current,\n      setDate: setDate,\n      showWeeksNumbers: true,\n      showExtraDays: showExtraDays,\n      updateSource: lastUpdateSource,\n      staticHeader: staticHeader,\n      setHeaderHeight: setHeaderHeight,\n      headerHeight: headerHeight,\n      today: NOW\n    };\n  }, [processedData, staticHeader, showExtraDays, firstDayOfWeek]);\n  var addPages = useCallback(function () {}, [items]);\n  var shouldAddPages = useCallback(function () {\n    var _e = [new global.Error(), -3, -27];\n    var anonymous = function anonymous(index) {\n      return index !== -1 && (index < PAGE_RELOAD_THRESHOLD || index > items.length - PAGE_RELOAD_THRESHOLD);\n    };\n    anonymous.__closure = {\n      PAGE_RELOAD_THRESHOLD: PAGE_RELOAD_THRESHOLD,\n      items: items\n    };\n    anonymous.__workletHash = 2187713719908;\n    anonymous.__initData = _worklet_2187713719908_init_data;\n    anonymous.__stackDetails = _e;\n    return anonymous;\n  }(), [items]);\n  useAnimatedReaction(function () {\n    var _e = [new global.Error(), -2, -27];\n    var anonymous = function anonymous() {\n      return current.value;\n    };\n    anonymous.__closure = {\n      current: current\n    };\n    anonymous.__workletHash = 6164687186009;\n    anonymous.__initData = _worklet_6164687186009_init_data;\n    anonymous.__stackDetails = _e;\n    return anonymous;\n  }(), function () {\n    var _e = [new global.Error(), -10, -27];\n    var anonymous = function anonymous(selected, previous) {\n      var index = getItemIndex(selected);\n      if (shouldAddPages(index)) {\n        console.log('Add new pages: ', index, items.length);\n        runOnJS(addPages)();\n      } else if (lastUpdateSource.value !== UpdateSource.MONTH_SCROLL) {\n        if (previous && !isSameMonth(selected, previous)) {\n          runOnJS(scrollToIndex)(index);\n        }\n      }\n    };\n    anonymous.__closure = {\n      getItemIndex: getItemIndex,\n      shouldAddPages: shouldAddPages,\n      items: items,\n      runOnJS: runOnJS,\n      addPages: addPages,\n      lastUpdateSource: lastUpdateSource,\n      UpdateSource: UpdateSource,\n      isSameMonth: isSameMonth,\n      scrollToIndex: scrollToIndex\n    };\n    anonymous.__workletHash = 9095374586282;\n    anonymous.__initData = _worklet_9095374586282_init_data;\n    anonymous.__stackDetails = _e;\n    return anonymous;\n  }(), [getItemIndex]);\n  var onViewableItemsChanged = useCallback(function (_ref) {\n    var _viewableItems$;\n    var viewableItems = _ref.viewableItems;\n    var item = viewableItems == null ? void 0 : (_viewableItems$ = viewableItems[0]) == null ? void 0 : _viewableItems$.item;\n    if (item && scrolledByUser.value) {\n      if (!isSameMonth(item, current.value)) {\n        var newDate = getDateObject({\n          year: item.year,\n          month: item.month,\n          day: 1\n        }).timestamp;\n        setDate(newDate, UpdateSource.MONTH_SCROLL);\n      }\n    }\n  }, []);\n  var onMomentumScrollBegin = useCallback(function () {\n    scrolledByUser.value = true;\n  }, []);\n  var onScrollBeginDrag = useCallback(function () {\n    scrolledByUser.value = true;\n  }, []);\n  var renderCalendarItem = useCallback(function (_ref2) {\n    var item = _ref2.item;\n    if (!staticHeader || headerHeight.value) {\n      return _jsx(CalendarItem, {\n        year: item.year,\n        month: item.month\n      });\n    }\n  }, []);\n  return _jsxs(CalendarContext.Provider, {\n    value: contextValue,\n    children: [staticHeader && _jsx(Header, {}), _jsx(FlashList, {\n      ref: flashListRef,\n      estimatedItemSize: Constants.screenWidth,\n      data: items,\n      initialScrollIndex: initialMonthIndex.current,\n      estimatedFirstItemOffset: 0,\n      renderItem: renderCalendarItem,\n      horizontal: true,\n      pagingEnabled: true,\n      showsHorizontalScrollIndicator: false,\n      onViewableItemsChanged: onViewableItemsChanged,\n      viewabilityConfig: VIEWABILITY_CONFIG,\n      onMomentumScrollBegin: onMomentumScrollBegin,\n      onScrollBeginDrag: onScrollBeginDrag\n    }), children, _jsx(TodayButton, {})]\n  });\n}\nCalendar.Agenda = Agenda;\nexport default Calendar;","map":{"version":3,"names":["React","useCallback","useMemo","useRef","useState","useSharedValue","useAnimatedReaction","runOnJS","FlashListPackage","Constants","generateMonthItems","addHeaders","isSameMonth","getDateObject","FirstDayOfWeek","UpdateSource","CalendarContext","CalendarItem","Agenda","TodayButton","Header","useDidUpdate","jsx","_jsx","jsxs","_jsxs","FlashList","VIEWABILITY_CONFIG","itemVisiblePercentThreshold","minimumViewTime","YEARS_RANGE","PAGE_RELOAD_THRESHOLD","NOW","Date","now","_worklet_4297076751764_init_data","code","location","sourceMap","version","_worklet_2187713719908_init_data","_worklet_6164687186009_init_data","_worklet_9095374586282_init_data","Calendar","props","data","children","_props$initialDate","initialDate","onChangeDate","_props$firstDayOfWeek","firstDayOfWeek","MONDAY","_props$staticHeader","staticHeader","_props$showExtraDays","showExtraDays","_useState","_useState2","_slicedToArray","items","getItemIndex","_e","global","Error","anonymous","date","dateObject","i","length","month","year","__closure","__workletHash","__initData","__stackDetails","flashListRef","current","initialMonthIndex","value","lastUpdateSource","INIT","processedData","scrolledByUser","headerHeight","setDate","updateSource","PROP_UPDATE","scrollToIndex","index","_flashListRef$current","animated","console","log","setHeaderHeight","height","contextValue","selectedDate","showWeeksNumbers","today","addPages","shouldAddPages","selected","previous","MONTH_SCROLL","onViewableItemsChanged","_ref","_viewableItems$","viewableItems","item","newDate","day","timestamp","onMomentumScrollBegin","onScrollBeginDrag","renderCalendarItem","_ref2","Provider","ref","estimatedItemSize","screenWidth","initialScrollIndex","estimatedFirstItemOffset","renderItem","horizontal","pagingEnabled","showsHorizontalScrollIndicator","viewabilityConfig"],"sources":["/Users/mac/Repositories/BlockmakerIT/02-building-manager-mvp-app/node_modules/react-native-ui-lib/src/incubator/Calendar/index.js"],"sourcesContent":["import React, { useCallback, useMemo, useRef, useState } from 'react';\nimport { useSharedValue, useAnimatedReaction, runOnJS } from 'react-native-reanimated';\nimport { FlashListPackage } from \"../../optionalDependencies\";\nimport { Constants } from \"../../commons/new\";\nimport { generateMonthItems } from \"./helpers/CalendarProcessor\";\nimport { addHeaders } from \"./helpers/DataProcessor\";\nimport { isSameMonth, /* addYears, */getDateObject } from \"./helpers/DateUtils\";\nimport { FirstDayOfWeek, UpdateSource } from \"./types\";\nimport CalendarContext from \"./CalendarContext\";\nimport CalendarItem from \"./CalendarItem\";\nimport Agenda from \"./Agenda\";\nimport TodayButton from \"./TodayButton\";\nimport Header from \"./Header\";\nimport { useDidUpdate } from \"../../hooks\";\nconst FlashList = FlashListPackage?.FlashList;\nconst VIEWABILITY_CONFIG = {\n  itemVisiblePercentThreshold: 95,\n  minimumViewTime: 200\n};\nconst YEARS_RANGE = 1;\nconst PAGE_RELOAD_THRESHOLD = 3;\nconst NOW = Date.now(); // so the 'initialDate' effect won't get called since the now different on every rerender\n\nfunction Calendar(props) {\n  const {\n    data,\n    children,\n    initialDate = NOW,\n    onChangeDate,\n    firstDayOfWeek = FirstDayOfWeek.MONDAY,\n    staticHeader = false,\n    showExtraDays = true\n  } = props;\n  const [items] = useState(() => generateMonthItems(initialDate, YEARS_RANGE, YEARS_RANGE));\n  const getItemIndex = useCallback(date => {\n    'worklet';\n\n    const dateObject = getDateObject(date);\n    for (let i = 0; i < items.length; i++) {\n      if (items[i].month === dateObject.month && items[i].year === dateObject.year) {\n        return i;\n      }\n    }\n    return -1;\n  }, [items]);\n  const flashListRef = useRef();\n  const current = useSharedValue(initialDate);\n  const initialMonthIndex = useRef(getItemIndex(current.value));\n  const lastUpdateSource = useSharedValue(UpdateSource.INIT);\n  const processedData = useMemo(() => addHeaders(data), [data]);\n  const scrolledByUser = useSharedValue(false);\n  const headerHeight = useSharedValue(0);\n  const setDate = useCallback((date, updateSource) => {\n    current.value = date;\n    lastUpdateSource.value = updateSource;\n    if (updateSource !== UpdateSource.PROP_UPDATE) {\n      onChangeDate?.(date);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  const scrollToIndex = useCallback(index => {\n    scrolledByUser.value = false;\n    // @ts-expect-error\n    flashListRef.current?.scrollToIndex({\n      index,\n      animated: true\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [getItemIndex]);\n  useDidUpdate(() => {\n    setDate(initialDate, UpdateSource.PROP_UPDATE);\n  }, [initialDate]);\n  useDidUpdate(() => {\n    console.log('Update items');\n    const index = getItemIndex(current.value);\n    scrollToIndex(index);\n  }, [items, getItemIndex]);\n  const setHeaderHeight = useCallback(height => {\n    headerHeight.value = height;\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  const contextValue = useMemo(() => {\n    return {\n      data: processedData,\n      firstDayOfWeek,\n      selectedDate: current,\n      setDate,\n      showWeeksNumbers: true,\n      showExtraDays,\n      updateSource: lastUpdateSource,\n      staticHeader,\n      setHeaderHeight,\n      headerHeight,\n      today: NOW\n    };\n  }, [processedData, staticHeader, showExtraDays, firstDayOfWeek]);\n\n  /** Pages reload */\n\n  // const mergeArrays = (prepend: boolean, array: DateObjectWithOptionalDay[], newArray: DateObjectWithOptionalDay[]) => {\n  //   const arr: DateObjectWithOptionalDay[] = array.slice();\n  //   if (prepend) {\n  //     arr.unshift(...newArray);\n  //   } else {\n  //     arr.push(...newArray);\n  //   }\n  //   return arr;\n  // };\n\n  const addPages = useCallback(( /* index: number */\n  ) => {\n    // const prepend = index < PAGE_RELOAD_THRESHOLD;\n    // const append = index > items.length - PAGE_RELOAD_THRESHOLD;\n    // const pastRange = prepend ? YEARS_RANGE : 0;\n    // const futureRange = append ? YEARS_RANGE : 0;\n    // const newDate = addYears(current.value, prepend ? -1 : 1);\n    // const newItems = generateMonthItems(newDate, pastRange, futureRange);\n    // const newArray = mergeArrays(prepend, items, newItems);\n    // setItems(newArray);\n    // // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [items]);\n  const shouldAddPages = useCallback(index => {\n    'worklet';\n\n    return index !== -1 && (index < PAGE_RELOAD_THRESHOLD || index > items.length - PAGE_RELOAD_THRESHOLD);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [items]);\n  useAnimatedReaction(() => {\n    return current.value;\n  }, (selected, previous) => {\n    const index = getItemIndex(selected);\n    if (shouldAddPages(index)) {\n      console.log('Add new pages: ', index, items.length);\n      runOnJS(addPages)( /* index */);\n    } else if (lastUpdateSource.value !== UpdateSource.MONTH_SCROLL) {\n      if (previous && !isSameMonth(selected, previous)) {\n        runOnJS(scrollToIndex)(index);\n      }\n    }\n  }, [getItemIndex]);\n\n  /** Events */\n\n  // eslint-disable-next-line max-len\n  const onViewableItemsChanged = useCallback(({\n    viewableItems\n  }) => {\n    const item = viewableItems?.[0]?.item;\n    if (item && scrolledByUser.value) {\n      if (!isSameMonth(item, current.value)) {\n        const newDate = getDateObject({\n          year: item.year,\n          month: item.month,\n          day: 1\n        }).timestamp;\n        setDate(newDate, UpdateSource.MONTH_SCROLL);\n      }\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  const onMomentumScrollBegin = useCallback(() => {\n    scrolledByUser.value = true;\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  const onScrollBeginDrag = useCallback(() => {\n    scrolledByUser.value = true;\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  const renderCalendarItem = useCallback(({\n    item\n  }) => {\n    if (!staticHeader || headerHeight.value) {\n      // item is rendered before static header height is calculated so it leaves extra space\n      return <CalendarItem year={item.year} month={item.month} />;\n    }\n  }, []);\n  return <CalendarContext.Provider value={contextValue}>\n      {staticHeader && <Header />}\n      <FlashList ref={flashListRef} estimatedItemSize={Constants.screenWidth} data={items} initialScrollIndex={initialMonthIndex.current} estimatedFirstItemOffset={0} renderItem={renderCalendarItem} horizontal pagingEnabled showsHorizontalScrollIndicator={false}\n    // TODO: Consider moving this shared logic with Agenda to a hook\n    onViewableItemsChanged={onViewableItemsChanged} viewabilityConfig={VIEWABILITY_CONFIG} onMomentumScrollBegin={onMomentumScrollBegin} onScrollBeginDrag={onScrollBeginDrag} />\n      {children}\n      <TodayButton />\n    </CalendarContext.Provider>;\n}\nCalendar.Agenda = Agenda;\nexport default Calendar;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}