{"ast":null,"code":"import React, { useContext, useCallback, useRef } from 'react';\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { runOnJS, useAnimatedReaction, useSharedValue } from 'react-native-reanimated';\nimport { FlashListPackage } from \"../../optionalDependencies\";\nimport { BorderRadiuses, Colors } from \"../../style\";\nimport View from \"../../components/view\";\nimport Text from \"../../components/text\";\nimport { isSameDay, isSameMonth } from \"./helpers/DateUtils\";\nimport { UpdateSource } from \"./types\";\nimport CalendarContext from \"./CalendarContext\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar FlashList = FlashListPackage == null ? void 0 : FlashListPackage.FlashList;\nfunction Agenda(props) {\n  var _findClosestDateAfter, _findClosestDateAfter2;\n  var renderEvent = props.renderEvent,\n    renderHeader = props.renderHeader,\n    _props$itemHeight = props.itemHeight,\n    itemHeight = _props$itemHeight === void 0 ? 50 : _props$itemHeight,\n    onEndReached = props.onEndReached,\n    showLoader = props.showLoader;\n  var _useContext = useContext(CalendarContext),\n    data = _useContext.data,\n    selectedDate = _useContext.selectedDate,\n    setDate = _useContext.setDate,\n    updateSource = _useContext.updateSource;\n  var flashList = useRef(null);\n  var closestSectionHeader = useSharedValue(null);\n  var scrolledByUser = useSharedValue(false);\n  var _renderEvent = useCallback(function (eventItem) {\n    if (renderEvent) {\n      return _jsx(View, {\n        height: itemHeight,\n        style: styles.eventContainer,\n        children: renderEvent(eventItem)\n      });\n    }\n    return _jsx(View, {\n      \"marginV-1\": true,\n      \"marginH-10\": true,\n      \"paddingH-10\": true,\n      height: itemHeight,\n      centerV: true,\n      style: styles.event,\n      children: _jsxs(Text, {\n        children: [\"Item for\", new Date(eventItem.start).toLocaleString('en-GB', {\n          month: 'short',\n          day: 'numeric',\n          hour12: false,\n          hour: '2-digit',\n          minute: '2-digit'\n        }), \"-\", new Date(eventItem.end).toLocaleString('en-GB', {\n          hour12: false,\n          hour: '2-digit',\n          minute: '2-digit'\n        })]\n      })\n    });\n  }, [renderEvent, itemHeight]);\n  var _renderHeader = useCallback(function (headerItem) {\n    if (renderHeader) {\n      return _jsx(View, {\n        height: itemHeight,\n        children: renderHeader(headerItem)\n      });\n    }\n    return _jsx(View, {\n      bottom: true,\n      \"marginB-5\": true,\n      \"marginH-20\": true,\n      height: itemHeight,\n      children: _jsx(Text, {\n        children: headerItem.header\n      })\n    });\n  }, [renderHeader, itemHeight]);\n  var renderItem = useCallback(function (_ref) {\n    var item = _ref.item;\n    switch (item.type) {\n      case 'Event':\n        return _renderEvent(item);\n      case 'Header':\n        return _renderHeader(item);\n    }\n  }, [_renderEvent, _renderHeader]);\n  var getItemType = useCallback(function (item) {\n    return item.type;\n  }, []);\n  var findClosestDateAfter = useCallback(function (selected) {\n    'worklet';\n\n    for (var index = 0; index < data.length; ++index) {\n      var item = data[index];\n      if (item.type === 'Header') {\n        if (item.date >= selected) {\n          return {\n            dateSectionHeader: item,\n            index: index\n          };\n        }\n      }\n    }\n    return null;\n  }, [data]);\n  var scrollToIndex = useCallback(function (index, animated) {\n    var _flashList$current;\n    (_flashList$current = flashList.current) == null ? void 0 : _flashList$current.scrollToIndex({\n      index: index,\n      animated: animated\n    });\n  }, []);\n  useAnimatedReaction(function () {\n    return selectedDate.value;\n  }, function (selected, previous) {\n    if (updateSource.value !== UpdateSource.AGENDA_SCROLL) {\n      var _closestSectionHeader, _closestSectionHeader2;\n      if (selected !== previous && (((_closestSectionHeader = closestSectionHeader.value) == null ? void 0 : _closestSectionHeader.date) === undefined || !isSameDay(selected, (_closestSectionHeader2 = closestSectionHeader.value) == null ? void 0 : _closestSectionHeader2.date))) {\n        var result = findClosestDateAfter(selected);\n        if (result !== null) {\n          var dateSectionHeader = result.dateSectionHeader,\n            index = result.index;\n          closestSectionHeader.value = dateSectionHeader;\n          scrolledByUser.value = false;\n          if (previous) {\n            var _isSameMonth = isSameMonth(selected, previous);\n            runOnJS(scrollToIndex)(index, _isSameMonth);\n          }\n        }\n      }\n    }\n  }, [findClosestDateAfter]);\n  var onViewableItemsChanged = useCallback(function (_ref2) {\n    var viewableItems = _ref2.viewableItems;\n    if (scrolledByUser.value) {\n      var result = viewableItems.find(function (item) {\n        return item.item.type === 'Header';\n      });\n      if (result) {\n        var _closestSectionHeader3;\n        var item = result.item;\n        if (((_closestSectionHeader3 = closestSectionHeader.value) == null ? void 0 : _closestSectionHeader3.date) !== item.date) {\n          closestSectionHeader.value = item;\n          setDate(item.date, UpdateSource.AGENDA_SCROLL);\n        }\n      }\n    }\n  }, []);\n  var onMomentumScrollBegin = useCallback(function () {\n    scrolledByUser.value = true;\n  }, []);\n  var onScrollBeginDrag = useCallback(function () {\n    scrolledByUser.value = true;\n  }, []);\n  var _onEndReached = useCallback(function () {\n    onEndReached == null ? void 0 : onEndReached(selectedDate.value);\n  }, [onEndReached]);\n  return _jsxs(View, {\n    flex: true,\n    children: [_jsx(FlashList, {\n      ref: flashList,\n      estimatedItemSize: 52,\n      data: data,\n      renderItem: renderItem,\n      getItemType: getItemType,\n      onViewableItemsChanged: onViewableItemsChanged,\n      onMomentumScrollBegin: onMomentumScrollBegin,\n      onScrollBeginDrag: onScrollBeginDrag,\n      initialScrollIndex: (_findClosestDateAfter = (_findClosestDateAfter2 = findClosestDateAfter(selectedDate.value)) == null ? void 0 : _findClosestDateAfter2.index) != null ? _findClosestDateAfter : 0,\n      onEndReached: _onEndReached\n    }), showLoader && _jsx(View, {\n      absF: true,\n      center: true,\n      style: {\n        backgroundColor: Colors.rgba(Colors.grey10, 0.2)\n      },\n      children: _jsx(ActivityIndicator, {})\n    })]\n  });\n}\nexport default Agenda;\nvar styles = StyleSheet.create({\n  eventContainer: {\n    overflow: 'hidden'\n  },\n  event: {\n    borderWidth: 1,\n    borderRadius: BorderRadiuses.br20\n  }\n});","map":{"version":3,"names":["React","useContext","useCallback","useRef","ActivityIndicator","StyleSheet","runOnJS","useAnimatedReaction","useSharedValue","FlashListPackage","BorderRadiuses","Colors","View","Text","isSameDay","isSameMonth","UpdateSource","CalendarContext","jsx","_jsx","jsxs","_jsxs","FlashList","Agenda","props","_findClosestDateAfter","_findClosestDateAfter2","renderEvent","renderHeader","_props$itemHeight","itemHeight","onEndReached","showLoader","_useContext","data","selectedDate","setDate","updateSource","flashList","closestSectionHeader","scrolledByUser","_renderEvent","eventItem","height","style","styles","eventContainer","children","centerV","event","Date","start","toLocaleString","month","day","hour12","hour","minute","end","_renderHeader","headerItem","bottom","header","renderItem","_ref","item","type","getItemType","findClosestDateAfter","selected","index","length","date","dateSectionHeader","scrollToIndex","animated","_flashList$current","current","value","previous","AGENDA_SCROLL","_closestSectionHeader","_closestSectionHeader2","undefined","result","_isSameMonth","onViewableItemsChanged","_ref2","viewableItems","find","_closestSectionHeader3","onMomentumScrollBegin","onScrollBeginDrag","_onEndReached","flex","ref","estimatedItemSize","initialScrollIndex","absF","center","backgroundColor","rgba","grey10","create","overflow","borderWidth","borderRadius","br20"],"sources":["/Users/mac/Repositories/BlockmakerIT/02-building-manager-mvp-app/node_modules/react-native-ui-lib/src/incubator/Calendar/Agenda.js"],"sourcesContent":["import React, { useContext, useCallback, useRef } from 'react';\nimport { ActivityIndicator, StyleSheet } from 'react-native';\nimport { runOnJS, useAnimatedReaction, useSharedValue } from 'react-native-reanimated';\nimport { FlashListPackage } from \"../../optionalDependencies\";\nimport { BorderRadiuses, Colors } from \"../../style\";\nimport View from \"../../components/view\";\nimport Text from \"../../components/text\";\nimport { isSameDay, isSameMonth } from \"./helpers/DateUtils\";\nimport { UpdateSource } from \"./types\";\nimport CalendarContext from \"./CalendarContext\";\nconst FlashList = FlashListPackage?.FlashList;\n\n// TODO: Fix initial scrolling\nfunction Agenda(props) {\n  const {\n    renderEvent,\n    renderHeader,\n    itemHeight = 50,\n    onEndReached,\n    showLoader\n  } = props;\n  const {\n    data,\n    selectedDate,\n    setDate,\n    updateSource\n  } = useContext(CalendarContext);\n  const flashList = useRef(null);\n  const closestSectionHeader = useSharedValue(null);\n  const scrolledByUser = useSharedValue(false);\n\n  /* const keyExtractor = useCallback((item: InternalEvent) => {\n    return item.type === 'Event' ? item.id : item.header;\n  }, []); */\n\n  const _renderEvent = useCallback(eventItem => {\n    if (renderEvent) {\n      return <View height={itemHeight} style={styles.eventContainer}>\n          {renderEvent(eventItem)}\n        </View>;\n    }\n    return <View marginV-1 marginH-10 paddingH-10 height={itemHeight} centerV style={styles.event}>\n        <Text>\n          Item for\n          {new Date(eventItem.start).toLocaleString('en-GB', {\n          month: 'short',\n          day: 'numeric',\n          hour12: false,\n          hour: '2-digit',\n          minute: '2-digit'\n        })}\n          -{new Date(eventItem.end).toLocaleString('en-GB', {\n          hour12: false,\n          hour: '2-digit',\n          minute: '2-digit'\n        })}\n        </Text>\n      </View>;\n  }, [renderEvent, itemHeight]);\n  const _renderHeader = useCallback(headerItem => {\n    if (renderHeader) {\n      return <View height={itemHeight}>{renderHeader(headerItem)}</View>;\n    }\n    return <View bottom marginB-5 marginH-20 height={itemHeight}>\n        <Text>{headerItem.header}</Text>\n      </View>;\n  }, [renderHeader, itemHeight]);\n  const renderItem = useCallback(({\n    item\n  }) => {\n    switch (item.type) {\n      case 'Event':\n        return _renderEvent(item);\n      case 'Header':\n        return _renderHeader(item);\n    }\n  }, [_renderEvent, _renderHeader]);\n  const getItemType = useCallback(item => item.type, []);\n  const findClosestDateAfter = useCallback(selected => {\n    'worklet';\n\n    for (let index = 0; index < data.length; ++index) {\n      const item = data[index];\n      if (item.type === 'Header') {\n        if (item.date >= selected) {\n          return {\n            dateSectionHeader: item,\n            index\n          };\n        }\n      }\n    }\n    return null;\n  }, [data]);\n  const scrollToIndex = useCallback((index, animated) => {\n    flashList.current?.scrollToIndex({\n      index,\n      animated\n    });\n  }, []);\n  useAnimatedReaction(() => {\n    return selectedDate.value;\n  }, (selected, previous) => {\n    if (updateSource.value !== UpdateSource.AGENDA_SCROLL) {\n      if (selected !== previous && (closestSectionHeader.value?.date === undefined || !isSameDay(selected, closestSectionHeader.value?.date))) {\n        const result = findClosestDateAfter(selected);\n        if (result !== null) {\n          const {\n            dateSectionHeader,\n            index\n          } = result;\n          closestSectionHeader.value = dateSectionHeader;\n          scrolledByUser.value = false;\n          // TODO: Can the animation be improved (not in JS)?\n          if (previous) {\n            const _isSameMonth = isSameMonth(selected, previous);\n            runOnJS(scrollToIndex)(index, _isSameMonth);\n          }\n        }\n      }\n    }\n  }, [findClosestDateAfter]);\n\n  // TODO: look at https://docs.swmansion.com/react-native-reanimated/docs/api/hooks/useAnimatedScrollHandler\n  const onViewableItemsChanged = useCallback(({\n    viewableItems\n  }) => {\n    if (scrolledByUser.value) {\n      const result = viewableItems.find(item => item.item.type === 'Header');\n      if (result) {\n        const {\n          item\n        } = result;\n        if (closestSectionHeader.value?.date !== item.date) {\n          closestSectionHeader.value = item;\n          setDate(item.date, UpdateSource.AGENDA_SCROLL);\n        }\n      }\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  const onMomentumScrollBegin = useCallback(() => {\n    scrolledByUser.value = true;\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  const onScrollBeginDrag = useCallback(() => {\n    scrolledByUser.value = true;\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  const _onEndReached = useCallback(() => {\n    onEndReached?.(selectedDate.value);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [onEndReached]);\n  return <View flex>\n      <FlashList ref={flashList} estimatedItemSize={52} data={data}\n    // TODO: Not sure we need key extractor in flash list\n    // keyExtractor={keyExtractor}\n    renderItem={renderItem} getItemType={getItemType} onViewableItemsChanged={onViewableItemsChanged} onMomentumScrollBegin={onMomentumScrollBegin} onScrollBeginDrag={onScrollBeginDrag} initialScrollIndex={findClosestDateAfter(selectedDate.value)?.index ?? 0} onEndReached={_onEndReached} />\n      {showLoader && <View absF center style={{\n      backgroundColor: Colors.rgba(Colors.grey10, 0.2)\n    }}>\n          <ActivityIndicator />\n        </View>}\n    </View>;\n}\nexport default Agenda;\nconst styles = StyleSheet.create({\n  eventContainer: {\n    overflow: 'hidden'\n  },\n  event: {\n    borderWidth: 1,\n    borderRadius: BorderRadiuses.br20\n  }\n});"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}