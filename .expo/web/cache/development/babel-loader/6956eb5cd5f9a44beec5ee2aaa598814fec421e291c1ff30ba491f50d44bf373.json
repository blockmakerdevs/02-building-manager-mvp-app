{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport _invoke from \"lodash/invoke\";\nimport _isPlainObject from \"lodash/isPlainObject\";\nimport _isArray from \"lodash/isArray\";\nimport React, { useCallback, useEffect, useMemo, useContext } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { LogService } from \"../../services\";\nimport { Colors, Typography } from \"../../style\";\nimport * as Modifiers from \"../../commons/modifiers\";\nimport Assets from \"../../assets\";\nimport View from \"../view\";\nimport TouchableOpacity from \"../touchableOpacity\";\nimport Image from \"../image\";\nimport Text from \"../text\";\nimport { getItemLabel, isItemSelected } from \"./PickerPresenter\";\nimport PickerContext from \"./PickerContext\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar PickerItem = function PickerItem(props) {\n  var _context$value;\n  var value = props.value,\n    label = props.label,\n    labelStyle = props.labelStyle,\n    disabled = props.disabled,\n    _props$selectedIcon = props.selectedIcon,\n    selectedIcon = _props$selectedIcon === void 0 ? Assets.icons.check : _props$selectedIcon,\n    _props$selectedIconCo = props.selectedIconColor,\n    selectedIconColor = _props$selectedIconCo === void 0 ? Colors.$iconPrimary : _props$selectedIconCo,\n    onPress = props.onPress,\n    testID = props.testID;\n  var context = useContext(PickerContext);\n  var migrate = context.migrate;\n  var customRenderItem = context.renderItem || props.renderItem;\n  var itemValue = !migrate && typeof value === 'object' ? value == null ? void 0 : value.value : value;\n  var isSelected = isItemSelected(itemValue, context.value);\n  var itemLabel = getItemLabel(label, value, props.getItemLabel || context.getItemLabel);\n  var selectedCounter = context.selectionLimit && _isArray(context.value) && ((_context$value = context.value) == null ? void 0 : _context$value.length);\n  var accessibilityProps = _objectSpread({\n    accessibilityState: isSelected ? {\n      selected: true\n    } : undefined,\n    accessibilityHint: 'Double click to select this suggestion'\n  }, Modifiers.extractAccessibilityProps(props));\n  var isItemDisabled = useMemo(function () {\n    return !!(disabled || !isSelected && context.selectionLimit && context.selectionLimit === selectedCounter);\n  }, [selectedCounter]);\n  useEffect(function () {\n    if (_isPlainObject(value)) {\n      LogService.warn('UILib Picker.Item will stop supporting passing object as value & label (e.g {value, label}) in the next major version. Please pass separate label and value props');\n    }\n  }, [value]);\n  var selectedIndicator = useMemo(function () {\n    if (isSelected) {\n      return _jsx(Image, {\n        source: selectedIcon,\n        tintColor: isItemDisabled ? Colors.$iconDisabled : selectedIconColor\n      });\n    }\n  }, [isSelected, isItemDisabled, selectedIcon, selectedIconColor]);\n  var itemLabelStyle = useMemo(function () {\n    return [styles.labelText, isItemDisabled ? styles.labelTextDisabled : undefined, labelStyle];\n  }, [isItemDisabled, labelStyle]);\n  var _onPress = useCallback(function () {\n    var _ref = _asyncToGenerator(function* (props) {\n      if (onPress && (yield onPress(context.isMultiMode ? !isSelected : undefined, props)) === false) {\n        return;\n      }\n      if (migrate) {\n        context.onPress(value);\n      } else {\n        context.onPress(typeof value === 'object' || context.isMultiMode ? value : {\n          value: value,\n          label: itemLabel\n        });\n      }\n    });\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }(), [migrate, value, context.onPress, onPress]);\n  var onSelectedLayout = useCallback(function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _invoke.apply(void 0, [context, 'onSelectedLayout'].concat(args));\n  }, []);\n  var _renderItem = function _renderItem() {\n    return _jsxs(View, {\n      style: styles.container,\n      flex: true,\n      row: true,\n      spread: true,\n      centerV: true,\n      children: [_jsx(Text, {\n        numberOfLines: 1,\n        style: itemLabelStyle,\n        children: itemLabel\n      }), selectedIndicator]\n    });\n  };\n  return _jsx(TouchableOpacity, _objectSpread(_objectSpread({\n    activeOpacity: 0.5,\n    onPress: _onPress,\n    onLayout: isSelected ? onSelectedLayout : undefined,\n    disabled: isItemDisabled,\n    testID: testID,\n    throttleTime: 0,\n    customValue: props.customValue\n  }, accessibilityProps), {}, {\n    children: customRenderItem ? customRenderItem(value, _objectSpread(_objectSpread({}, props), {}, {\n      isSelected: isSelected,\n      isItemDisabled: isItemDisabled\n    }), itemLabel) : _renderItem()\n  }));\n};\nvar styles = StyleSheet.create({\n  container: {\n    height: 56.5,\n    paddingHorizontal: 23,\n    borderColor: Colors.$outlineDefault,\n    borderBottomWidth: 1\n  },\n  labelText: _objectSpread(_objectSpread({}, Typography.text70), {}, {\n    color: Colors.$textDefault,\n    flex: 1,\n    textAlign: 'left'\n  }),\n  labelTextDisabled: {\n    color: Colors.$textDisabled\n  }\n});\nPickerItem.displayName = 'Picker.Item';\nexport default PickerItem;","map":{"version":3,"names":["_invoke","_isPlainObject","_isArray","React","useCallback","useEffect","useMemo","useContext","StyleSheet","LogService","Colors","Typography","Modifiers","Assets","View","TouchableOpacity","Image","Text","getItemLabel","isItemSelected","PickerContext","jsx","_jsx","jsxs","_jsxs","PickerItem","props","_context$value","value","label","labelStyle","disabled","_props$selectedIcon","selectedIcon","icons","check","_props$selectedIconCo","selectedIconColor","$iconPrimary","onPress","testID","context","migrate","customRenderItem","renderItem","itemValue","isSelected","itemLabel","selectedCounter","selectionLimit","length","accessibilityProps","_objectSpread","accessibilityState","selected","undefined","accessibilityHint","extractAccessibilityProps","isItemDisabled","warn","selectedIndicator","source","tintColor","$iconDisabled","itemLabelStyle","styles","labelText","labelTextDisabled","_onPress","_ref","_asyncToGenerator","isMultiMode","_x","apply","arguments","onSelectedLayout","_len","args","Array","_key","concat","_renderItem","style","container","flex","row","spread","centerV","children","numberOfLines","activeOpacity","onLayout","throttleTime","customValue","create","height","paddingHorizontal","borderColor","$outlineDefault","borderBottomWidth","text70","color","$textDefault","textAlign","$textDisabled","displayName"],"sources":["/Users/mac/Repositories/BlockmakerIT/02-building-manager-mvp-app/node_modules/react-native-ui-lib/src/components/picker/PickerItem.js"],"sourcesContent":["import _invoke from \"lodash/invoke\";\nimport _isPlainObject from \"lodash/isPlainObject\";\nimport _isArray from \"lodash/isArray\";\nimport React, { useCallback, useEffect, useMemo, useContext } from 'react';\nimport { StyleSheet } from 'react-native';\nimport { LogService } from \"../../services\";\nimport { Colors, Typography } from \"../../style\";\nimport * as Modifiers from \"../../commons/modifiers\";\nimport Assets from \"../../assets\";\nimport View from \"../view\";\nimport TouchableOpacity from \"../touchableOpacity\";\nimport Image from \"../image\";\nimport Text from \"../text\";\nimport { getItemLabel, isItemSelected } from \"./PickerPresenter\";\nimport PickerContext from \"./PickerContext\";\n/**\n * @description: Picker.Item, for configuring the Picker's selectable options\n * @example: https://github.com/wix/react-native-ui-lib/blob/master/demo/src/screens/componentScreens/PickerScreen.tsx\n */\nconst PickerItem = props => {\n  const {\n    value,\n    label,\n    labelStyle,\n    disabled,\n    selectedIcon = Assets.icons.check,\n    selectedIconColor = Colors.$iconPrimary,\n    onPress,\n    testID\n  } = props;\n  const context = useContext(PickerContext);\n  const {\n    migrate\n  } = context;\n  const customRenderItem = context.renderItem || props.renderItem;\n  // @ts-expect-error TODO: fix after removing migrate prop completely\n  const itemValue = !migrate && typeof value === 'object' ? value?.value : value;\n  const isSelected = isItemSelected(itemValue, context.value);\n  const itemLabel = getItemLabel(label, value, props.getItemLabel || context.getItemLabel);\n  const selectedCounter = context.selectionLimit && _isArray(context.value) && context.value?.length;\n  const accessibilityProps = {\n    accessibilityState: isSelected ? {\n      selected: true\n    } : undefined,\n    accessibilityHint: 'Double click to select this suggestion',\n    ...Modifiers.extractAccessibilityProps(props)\n  };\n  const isItemDisabled = useMemo(() => {\n    return !!(disabled || !isSelected && context.selectionLimit && context.selectionLimit === selectedCounter);\n  }, [selectedCounter]);\n  useEffect(() => {\n    if (_isPlainObject(value)) {\n      LogService.warn('UILib Picker.Item will stop supporting passing object as value & label (e.g {value, label}) in the next major version. Please pass separate label and value props');\n    }\n  }, [value]);\n  const selectedIndicator = useMemo(() => {\n    if (isSelected) {\n      return <Image source={selectedIcon} tintColor={isItemDisabled ? Colors.$iconDisabled : selectedIconColor} />;\n    }\n  }, [isSelected, isItemDisabled, selectedIcon, selectedIconColor]);\n  const itemLabelStyle = useMemo(() => {\n    return [styles.labelText, isItemDisabled ? styles.labelTextDisabled : undefined, labelStyle];\n  }, [isItemDisabled, labelStyle]);\n  const _onPress = useCallback(async props => {\n    // Using !(await onPress?.(item)) does not work properly when onPress is not sent\n    // We have to explicitly state `false` so a synchronous void (undefined) will still work as expected\n    if (onPress && (await onPress(context.isMultiMode ? !isSelected : undefined, props)) === false) {\n      return;\n    }\n    if (migrate) {\n      context.onPress(value);\n    } else {\n      // @ts-expect-error TODO: fix after removing migrate prop completely\n      context.onPress(typeof value === 'object' || context.isMultiMode ? value : {\n        value,\n        label: itemLabel\n      });\n    }\n  }, [migrate, value, context.onPress, onPress]);\n  const onSelectedLayout = useCallback((...args) => {\n    _invoke(context, 'onSelectedLayout', ...args);\n  }, []);\n  const _renderItem = () => {\n    return <View style={styles.container} flex row spread centerV>\n        <Text numberOfLines={1} style={itemLabelStyle}>\n          {itemLabel}\n        </Text>\n        {selectedIndicator}\n      </View>;\n  };\n  return <TouchableOpacity activeOpacity={0.5} onPress={_onPress} onLayout={isSelected ? onSelectedLayout : undefined} disabled={isItemDisabled} testID={testID} throttleTime={0} customValue={props.customValue} {...accessibilityProps}>\n      {customRenderItem ? customRenderItem(value, {\n      ...props,\n      isSelected,\n      isItemDisabled\n    }, itemLabel) : _renderItem()}\n    </TouchableOpacity>;\n};\nconst styles = StyleSheet.create({\n  container: {\n    height: 56.5,\n    paddingHorizontal: 23,\n    borderColor: Colors.$outlineDefault,\n    borderBottomWidth: 1\n  },\n  labelText: {\n    ...Typography.text70,\n    color: Colors.$textDefault,\n    flex: 1,\n    textAlign: 'left'\n  },\n  labelTextDisabled: {\n    color: Colors.$textDisabled\n  }\n});\nPickerItem.displayName = 'Picker.Item';\nexport default PickerItem;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}