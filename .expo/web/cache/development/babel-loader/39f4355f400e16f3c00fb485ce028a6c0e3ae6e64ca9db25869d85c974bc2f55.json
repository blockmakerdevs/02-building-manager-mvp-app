{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport React, { useState, useCallback, useRef } from 'react';\nimport forwardRef from \"./forwardRef\";\nimport hoistStatics from 'hoist-non-react-statics';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nfunction withScrollEnabler(WrappedComponent) {\n  var ScrollEnabler = function ScrollEnabler(props) {\n    var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      scrollEnabled = _useState2[0],\n      setScrollEnabled = _useState2[1];\n    var contentSize = useRef(0);\n    var layoutSize = useRef(0);\n    var checkScroll = useCallback(function () {\n      var isScrollEnabled = Math.floor(contentSize.current) > layoutSize.current;\n      if (isScrollEnabled !== scrollEnabled) {\n        setScrollEnabled(isScrollEnabled);\n      }\n    }, [scrollEnabled]);\n    var onContentSizeChange = useCallback(function (contentWidth, contentHeight) {\n      var size = props.horizontal ? contentWidth : contentHeight;\n      if (size !== contentSize.current) {\n        contentSize.current = size;\n        if (layoutSize.current > 0) {\n          checkScroll();\n        }\n      }\n    }, [props.horizontal, checkScroll]);\n    var onLayout = useCallback(function (event) {\n      var _event$nativeEvent$la = event.nativeEvent.layout,\n        width = _event$nativeEvent$la.width,\n        height = _event$nativeEvent$la.height;\n      var size = props.horizontal ? width : height;\n      if (size !== layoutSize.current) {\n        layoutSize.current = size;\n        if (contentSize.current > 0) {\n          checkScroll();\n        }\n      }\n    }, [props.horizontal, checkScroll]);\n    return _jsx(WrappedComponent, _objectSpread(_objectSpread({}, props), {}, {\n      scrollEnablerProps: {\n        onLayout: onLayout,\n        scrollEnabled: scrollEnabled,\n        onContentSizeChange: onContentSizeChange\n      },\n      ref: props.forwardedRef\n    }));\n  };\n  hoistStatics(ScrollEnabler, WrappedComponent);\n  ScrollEnabler.displayName = WrappedComponent.displayName;\n  ScrollEnabler.propTypes = WrappedComponent.propTypes;\n  ScrollEnabler.defaultProps = WrappedComponent.defaultProps;\n  return forwardRef(ScrollEnabler);\n}\nexport default withScrollEnabler;","map":{"version":3,"names":["React","useState","useCallback","useRef","forwardRef","hoistStatics","jsx","_jsx","withScrollEnabler","WrappedComponent","ScrollEnabler","props","_useState","_useState2","_slicedToArray","scrollEnabled","setScrollEnabled","contentSize","layoutSize","checkScroll","isScrollEnabled","Math","floor","current","onContentSizeChange","contentWidth","contentHeight","size","horizontal","onLayout","event","_event$nativeEvent$la","nativeEvent","layout","width","height","_objectSpread","scrollEnablerProps","ref","forwardedRef","displayName","propTypes","defaultProps"],"sources":["/Users/mac/Repositories/BlockmakerIT/02-building-manager-mvp-app/node_modules/react-native-ui-lib/src/commons/withScrollEnabler.js"],"sourcesContent":["import React, { useState, useCallback, useRef } from 'react';\nimport forwardRef from \"./forwardRef\";\nimport hoistStatics from 'hoist-non-react-statics';\nfunction withScrollEnabler(WrappedComponent) {\n  const ScrollEnabler = props => {\n    const [scrollEnabled, setScrollEnabled] = useState(true);\n    const contentSize = useRef(0);\n    const layoutSize = useRef(0);\n    const checkScroll = useCallback(() => {\n      const isScrollEnabled = Math.floor(contentSize.current) > layoutSize.current;\n      if (isScrollEnabled !== scrollEnabled) {\n        setScrollEnabled(isScrollEnabled);\n      }\n    }, [scrollEnabled]);\n    const onContentSizeChange = useCallback((contentWidth, contentHeight) => {\n      const size = props.horizontal ? contentWidth : contentHeight;\n      if (size !== contentSize.current) {\n        contentSize.current = size;\n        if (layoutSize.current > 0) {\n          checkScroll();\n        }\n      }\n    }, [props.horizontal, checkScroll]);\n    const onLayout = useCallback(event => {\n      const {\n        nativeEvent: {\n          layout: {\n            width,\n            height\n          }\n        }\n      } = event;\n      const size = props.horizontal ? width : height;\n      if (size !== layoutSize.current) {\n        layoutSize.current = size;\n        if (contentSize.current > 0) {\n          checkScroll();\n        }\n      }\n    }, [props.horizontal, checkScroll]);\n    return <WrappedComponent {...props} scrollEnablerProps={{\n      onLayout,\n      scrollEnabled,\n      onContentSizeChange\n    }} ref={props.forwardedRef} />;\n  };\n  hoistStatics(ScrollEnabler, WrappedComponent);\n  ScrollEnabler.displayName = WrappedComponent.displayName;\n  //@ts-ignore\n  ScrollEnabler.propTypes = WrappedComponent.propTypes;\n  //@ts-ignore\n  ScrollEnabler.defaultProps = WrappedComponent.defaultProps;\n  return forwardRef(ScrollEnabler);\n}\nexport default withScrollEnabler;"],"mappings":";;;;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,WAAW,EAAEC,MAAM,QAAQ,OAAO;AAC5D,OAAOC,UAAU;AACjB,OAAOC,YAAY,MAAM,yBAAyB;AAAC,SAAAC,GAAA,IAAAC,IAAA;AACnD,SAASC,iBAAiBA,CAACC,gBAAgB,EAAE;EAC3C,IAAMC,aAAa,GAAG,SAAhBA,aAAaA,CAAGC,KAAK,EAAI;IAC7B,IAAAC,SAAA,GAA0CX,QAAQ,CAAC,IAAI,CAAC;MAAAY,UAAA,GAAAC,cAAA,CAAAF,SAAA;MAAjDG,aAAa,GAAAF,UAAA;MAAEG,gBAAgB,GAAAH,UAAA;IACtC,IAAMI,WAAW,GAAGd,MAAM,CAAC,CAAC,CAAC;IAC7B,IAAMe,UAAU,GAAGf,MAAM,CAAC,CAAC,CAAC;IAC5B,IAAMgB,WAAW,GAAGjB,WAAW,CAAC,YAAM;MACpC,IAAMkB,eAAe,GAAGC,IAAI,CAACC,KAAK,CAACL,WAAW,CAACM,OAAO,CAAC,GAAGL,UAAU,CAACK,OAAO;MAC5E,IAAIH,eAAe,KAAKL,aAAa,EAAE;QACrCC,gBAAgB,CAACI,eAAe,CAAC;MACnC;IACF,CAAC,EAAE,CAACL,aAAa,CAAC,CAAC;IACnB,IAAMS,mBAAmB,GAAGtB,WAAW,CAAC,UAACuB,YAAY,EAAEC,aAAa,EAAK;MACvE,IAAMC,IAAI,GAAGhB,KAAK,CAACiB,UAAU,GAAGH,YAAY,GAAGC,aAAa;MAC5D,IAAIC,IAAI,KAAKV,WAAW,CAACM,OAAO,EAAE;QAChCN,WAAW,CAACM,OAAO,GAAGI,IAAI;QAC1B,IAAIT,UAAU,CAACK,OAAO,GAAG,CAAC,EAAE;UAC1BJ,WAAW,CAAC,CAAC;QACf;MACF;IACF,CAAC,EAAE,CAACR,KAAK,CAACiB,UAAU,EAAET,WAAW,CAAC,CAAC;IACnC,IAAMU,QAAQ,GAAG3B,WAAW,CAAC,UAAA4B,KAAK,EAAI;MACpC,IAAAC,qBAAA,GAOID,KAAK,CANPE,WAAW,CACTC,MAAM;QACJC,KAAK,GAAAH,qBAAA,CAALG,KAAK;QACLC,MAAM,GAAAJ,qBAAA,CAANI,MAAM;MAIZ,IAAMR,IAAI,GAAGhB,KAAK,CAACiB,UAAU,GAAGM,KAAK,GAAGC,MAAM;MAC9C,IAAIR,IAAI,KAAKT,UAAU,CAACK,OAAO,EAAE;QAC/BL,UAAU,CAACK,OAAO,GAAGI,IAAI;QACzB,IAAIV,WAAW,CAACM,OAAO,GAAG,CAAC,EAAE;UAC3BJ,WAAW,CAAC,CAAC;QACf;MACF;IACF,CAAC,EAAE,CAACR,KAAK,CAACiB,UAAU,EAAET,WAAW,CAAC,CAAC;IACnC,OAAOZ,IAAA,CAACE,gBAAgB,EAAA2B,aAAA,CAAAA,aAAA,KAAKzB,KAAK;MAAE0B,kBAAkB,EAAE;QACtDR,QAAQ,EAARA,QAAQ;QACRd,aAAa,EAAbA,aAAa;QACbS,mBAAmB,EAAnBA;MACF,CAAE;MAACc,GAAG,EAAE3B,KAAK,CAAC4B;IAAa,EAAE,CAAC;EAChC,CAAC;EACDlC,YAAY,CAACK,aAAa,EAAED,gBAAgB,CAAC;EAC7CC,aAAa,CAAC8B,WAAW,GAAG/B,gBAAgB,CAAC+B,WAAW;EAExD9B,aAAa,CAAC+B,SAAS,GAAGhC,gBAAgB,CAACgC,SAAS;EAEpD/B,aAAa,CAACgC,YAAY,GAAGjC,gBAAgB,CAACiC,YAAY;EAC1D,OAAOtC,UAAU,CAACM,aAAa,CAAC;AAClC;AACA,eAAeF,iBAAiB"},"metadata":{},"sourceType":"module","externalDependencies":[]}